<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>lusuijie</title><link>https://woshidashuaibi-lsj.github.io/</link><description>Recent content on lusuijie</description><generator>Hugo -- gohugo.io</generator><language>zh</language><lastBuildDate>Sat, 24 Feb 2024 00:00:00 +0000</lastBuildDate><atom:link href="https://woshidashuaibi-lsj.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>2023苦海泛舟</title><link>https://woshidashuaibi-lsj.github.io/blog/2023zongjie/</link><pubDate>Sat, 24 Feb 2024 00:00:00 +0000</pubDate><guid>https://woshidashuaibi-lsj.github.io/blog/2023zongjie/</guid><description>&lt;p>生活不易，苦海泛舟难登彼岸，人生苦短，世间七情六欲难窥其真相。&lt;/p>
&lt;blockquote>
&lt;p>车窗外已经是一片白雪茫茫&lt;/p>
&lt;p>有一个四季在轮回&lt;/p>
&lt;p>而我一无所获的坐在街头&lt;/p>
&lt;p>只有理想在支撑着那些麻木的血肉&lt;/p>
&lt;p>理想你今年几岁&lt;/p>
&lt;p>你总是诱惑着年轻的朋友&lt;/p>
&lt;p>&amp;hellip;&amp;hellip;&lt;/p>
&lt;/blockquote>
&lt;p>江西的刺骨寒风似乎越过了千山万水，伴着春运大军浩荡荡吹到了广州，总是给人热情盛夏的羊城竟也难得突然冷下来。这一冷，似乎一下就把过年的热情给浇灭了，突兀的又是到了打工人上班的日子。这风吹的确实叫人心冷。&lt;/p>
&lt;p>不过我是不在乎的，在这种寒冷的天气我总是乐在躲在我的小窝里面，外面纵是狂风暴雨北风凛冽也是和我毫不相干的，我也乐得雨打窗栏的感觉。不过偶尔的总是有那么几个黄毛揣着几个酒瓶子在楼下晃晃当当的，操着一口听不懂的乡音，叽里呱啦的说个不停。虽然我也是黄毛，但是此黄毛非彼黄毛，这帮叼毛素质甚差，总是半夜突然的大吵大闹，一点也不尊老爱幼，维护邻里和谐，素质甚差。但奈何对方人多势众，且个个光着大膀子，叼着根香烟，看着不太好惹的样子。哼，和谐社会，本少侠就不和你们一般见识，哪天把我惹急了，非得左青龙右白虎，大金链子在中间，贴一身的猛兽吓死你们去。&lt;/p>
&lt;p>今年的年终总结比以往晚一些，本想用更加具体的数据来记录自己一年的总结，像看了多少书，花了多少钱&amp;hellip;但总感觉数字太过冰冷，像是在给领导写 ppt 汇报工作，像是个没感情的机器人。生活嘛，总是给人以新的体悟，有给我们不断的教训和体验，这些都是数字无法形容的，还是用偏日记的形式来记录吧。&lt;/p>
&lt;h2 id="关于生活">关于生活&lt;/h2>
&lt;p>“生活总是这么苦吗？”我总是这样问我的朋友，而他总是回我一个“always”，就像里昂回复玛蒂娜那样。&lt;/p>
&lt;p>2023，平凡的一年。&lt;/p>
&lt;p>疫情在这一年彻底的放开，来的突然，去得也很突然，生活方式发生翻天覆地的变化，但似乎又什么都没变。还是早上9点闹钟被叫醒，然后关掉，然后继续叫醒，往复三次之后，我才会从床上一跃而起，用15分钟洗漱倒垃圾，然后冲到楼下，骑上我的小电驴，电力扭到底，抵着25迈的速度狂奔到公司，在9点55分准时打上卡。这套流程已经被我执行了一年，以致于我快能准确的把握这一小时内的每一分钟，打卡时间也越来越向9点59分靠近了。&lt;/p>
&lt;p>来新司也是一年有余，也见证了一些人的离去和到来，人来人往，我也不知道哪天或许就轮到我了，已经见过太多，似乎对这些早已免疫，既来之则安之。回归工作，我觉得程序员大致可分为两派，一派精研技术，力求登峰造极；一派注重体验，追求创造价值。虽然大部分半吊子程序员都很难归到这两类里，但有辛这一年还是见识过几位这样的大佬。从中受益匪浅，学习甚多。当然不用问我，我必然是属于半吊子程序员之类，即无精益求精之虔心，也无格物致知之敏锐。但所幸有机会见识过高山，眺望过山巅，更不吝这些山巅之人愿意带着我这个小菜鸡成长，这便是最大的幸事了。&lt;/p>
&lt;p>每天三点一线的生活似乎快把我的灵魂禁锢，来广州一年多我居然只去城里逛过一次，那天为此我还特意发了条朋友圈“出门，进城，拜老友”，难得的出门是让我有些兴奋的。那天和好久没见的同学从下午聊到晚上，似乎有说不完的话题，我们相互回忆着过去，又畅享着未来，最后说着改天再约，确是再也没有见过。我们总爱用“改天”，“下次”，“以后”&amp;hellip;这些字眼来约定着下一次的行程，但最后都变成了相互的敷衍，而一段段的联系也在这些字眼中消失殆尽。欲买桂花同载酒，终不似，少年游。每个人似乎都在不停的长大，成熟，大家都开始融入不同的圈子，维系着不同的社交，朋友圈也是没有了以往的日常琐事爱恨情仇，最痛心之事莫过于，往常那些爱分享美照的女菩萨们也不知为啥都个个都像闭关了似的，不再出来见人，我这甜美的小嘴也是无用武之地，实属人生之一大憾事。&lt;/p>
&lt;p>慢慢的也开始理解，生活本来就那么苦，哪有这么多快乐值得分享。&lt;/p>
&lt;p>回首向来萧瑟处，归去，也无风雨也无晴。时间总是快的让人难以察觉，总感觉昨天还是在学校的校园时光，还和寝室里的几个老油子，穿着拖鞋大裤衩子，跑去食堂吃3块5的辣椒炒肉。毕业也是两年多了，辣椒炒肉已是顿顿能点一大碗，却是怎么也吃不出当年的味道。生活总是催促着我们不停的往前走，我们步履蹒跚不敢停下，只偶尔回头看看来时的路。这一路上得到很多，也失去很多，这就是生活，过去如此，现在如此，将来也是如此。&lt;/p>
&lt;p>生活不易，苦海泛舟难登彼岸，人生苦短，世间七情六欲难窥其真相。&lt;/p>
&lt;h2 id="关于阅读">关于阅读&lt;/h2>
&lt;p>生活太苦，但日子总还是要过，而自然少不了借酒消愁，而书籍就是我的酒。&lt;/p>
&lt;p>而我最好深夜酗酒，凌晨零点，星光充盈着夜空，一汪半月挂在星空，湾湾浅浅，隔壁的情侣大战刚歇，楼下的黄毛也是醉的昏昏沉沉，一片万籁寂静。此时虽然身处2023年的时空下，但是我的思绪早已跟随着手中的书籍坠落在战国末期纷飞的战场。&lt;/p>
&lt;p>我跟着商鞅和孝公一步步落实秦国的法制，为大秦的法制一步步夯实基础，也为后世的依法治国的君主们开创先河奠定基础。君如青山我为松柏，我也为商鞅和孝公之间的君臣羁绊而感动。&lt;/p>
&lt;p>纵横奇对，国命纵横。我又坐上马车，跟随苏秦游说诸王，合纵六国，配六国相印，共克秦国。又和张仪连横诸国，大破合纵联军。在这个血溅五步的战场，文人也能凭一张嘴，挽狂澜于既倒，救万民于水火，甚是精彩。&lt;/p>
&lt;p>当然我也时常穿着甲胄，奔赴于一座座战场，我见识了孙膑围魏救赵的战略博弈，也跟随着战国第一杀神，中国第一歼灭战之王白起，南拔鄢郢，屡败三晋，和赵国决战长平，一举荡平战国的所有有生力量，为后续秦一统天下，打下了坚实的战略基础。&lt;/p>
&lt;p>奋六世之余烈，振长策而御宇内，吞二周而亡诸侯，履至尊而制六合，执敲扑而鞭笞天下，威振四海。&lt;/p>
&lt;p>历史的河流波涛汹涌，一位位风云人物最后也会成为一坡黄土，但所幸历史被记录成书籍供后世来鉴。以史为镜方可明智。23年最大的收获，却是将十二本，五百万字的《大秦帝国》看完了，看完之后有种宏大和渺小的感觉也，和看完《三体》的感觉类似，但有不完全一样。&lt;/p>
&lt;p>看完《大秦帝国》被里面的秦风所吸引，又被陈果老师安利————你说你是中国人的时候，你到底意味着什么？为什么说你是中国人？读一读四书你会明白的。遂又买了本《诗经》，但奈何文化过于粗鄙，实在是看不懂。最后将之赠予云龙兄，想着应该也算是无尽所用了。&lt;/p>
&lt;p>后又准备将最后《平凡的世界》买来收集（这是我推荐每个从底层出来的孩子都应该读一读的书），高中的时候读过，也是受益至今，但是最后还是送给了白银兄，只是觉得白银兄很适合。&lt;/p>
&lt;p>也买了本余华的《在细雨中呐喊》，还是余华一贯的风格，看的最多的书应该就是他的书了《兄弟》《活着》《第七日》《许三观卖血记》&amp;hellip;，感觉深受其害，也有股愤世嫉俗的感觉，以后还是得常换换口味。之后又买了《黄金时代》，之前已形之笔墨，此处就不谈了。&lt;/p>
&lt;p>到年底又买了《毛选》和《我与地坛》，《毛选》看了几章还没看完，有次在抖音直播还和同学一块聊了一下《湖南农民运动考察报考》那篇，结果直接就被警告封了直播间，额。反正教员的伟大无需多言。《我与地坛》刚开始看的时候其实我是不太喜欢史铁生那种风格的，我觉得他文章小说偏散文，不够叙事，但是当我看他描述苦难和命运的时候我是被他折服了的。&lt;/p>
&lt;p>“假如世界上没有了苦难，世界还能够存在吗？要是没有了愚钝，机智还有什么光荣呢？要是没有了丑陋。漂亮又怎么维系自己的幸运？要是没有了恶劣和卑下，善良与高尚将如何界定自己又如何成为美德呢？要是没有了残疾，健全会否因其司空见惯而变得腻烦和乏味呢？我常梦想着在人间彻底消灭残疾，但可以相信，那时将有患病者代替残疾人去承担同样的苦难。如果能够把疾病也全数消灭，那么这份苦难又将由（比如说）相貌丑陋的人去承担了。就算我们连丑陋，连愚昧和卑鄙和一切我们所不喜欢的事物和行为，也都可以通通消灭，所有的人都一样健康、漂亮、聪慧、高尚，结果会怎样呢？怕是人间的剧目就全要收场了。一个失去差别的世界将是一潭死水，是一块没有感觉没有肥力的沙漠&amp;hellip;&lt;/p>
&lt;p>我常以为是丑女造就了美人。我常以为是愚昧举出了智者。我常以为是懦夫忖照了英雄。我常以为是众生度化了佛祖。”&lt;/p>
&lt;p>这到底经历了怎样的苦难才能悟出如此道理。与之相比我们又是多么的幸运。&lt;/p>
&lt;p>生活不易，苦海泛舟难登彼岸，以书为筏或可一渡。&lt;/p>
&lt;h2 id="关于情感">关于情感&lt;/h2>
&lt;p>其实今年还买了一本书《爱的艺术》，是美国作家爱里希·弗洛姆写的。原书本身就比较晦涩，翻译感觉就纯是机翻，所以这种译本看起来就更加晦涩了，为此还专门写了个读书笔记，但最后也是不甚了了。关于爱我本想通过书本阅读的方式去获取更深的体悟，但爱是无法言说的。&lt;/p>
&lt;p>对于亲情感觉自己对待亲人越来越失去耐心，不愿和她们倾诉太多，似是自小离家独立的性格，哪怕发生什么不好的事，也是习惯独自一人面对。虽是知如此略有些薄情寡义，但确也是无可转变的性格。想着或许自己把自己的生活过好一点，不用让亲人操心或也是最好的言语吧。&lt;/p>
&lt;p>对于爱情，唉，孤独的人是可耻的，今年依旧可耻。爱是少年第一关，这一关我却怎么也跨不过去，面对喜欢的人聊个微信也是小心翼翼斟酌很久，总觉得自己应该是个老手，给那么多人总结爱情的经验，轮到自己确是半天憋不出个屁，好友们已是操碎了心，帮忙想着各种话题，最后是啥也没发出去。&lt;/p>
&lt;p>也罢，爱情是虚无缥缈的，但共产主义是真实的！你的爱人可能会辜负你，但共产主义绝对不会，放下儿女情长，高举马克思主义的旗帜，坚定不移地走中国特色社会主义道路。&lt;/p>
&lt;p>人生苦短，世间七情六欲难窥其真相，我也暂无正解。&lt;/p>
&lt;h2 id="结">结&lt;/h2>
&lt;p>曾经政治书上说：事物发展是螺旋式上升和波浪式前进的，道路是曲折的，前途是光明的。&lt;/p>
&lt;p>这我是认可。&lt;/p>
&lt;p>竹杖芒鞋轻胜马，谁怕。一蓑烟雨任平生。对于这个熟悉又陌生的世界，道路任他曲折离奇，尽管大步坚定的往前走。借用教员的话：如果他们要打，就把他们彻底消灭。事情就是这样，他来进攻，我们把他消灭了，他就舒服了。消灭一点，舒服一点；消灭很多，舒服很多；彻底消灭，彻底舒服。不管面对什么也自当如此，一往无前。&lt;/p>
&lt;p>今天是2月24日星期六，元宵佳节，也祝大家平安喜乐，所许皆如愿，所行皆坦途，愿日子如曦光，温暖又安详，万事皆顺意，晚安。&lt;/p></description></item><item><title>2021，五湖四海</title><link>https://woshidashuaibi-lsj.github.io/blog/my-first-blog/</link><pubDate>Mon, 19 Feb 2024 16:21:52 +0800</pubDate><guid>https://woshidashuaibi-lsj.github.io/blog/my-first-blog/</guid><description>&lt;p>她们已经被风吹走
散落在天涯
有些故事还没讲完就算了吧
那些心情在岁月中已经难辩真假
如今这里荒草从生没有了鲜花
好在曾经拥有你们的春秋和冬夏&lt;/p>
&lt;p>————那些花儿（节选） - 朴树&lt;/p>
&lt;h3 id="前言">前言&lt;/h3>
&lt;p>前些日子一个偶然的机会看到公司员工的一篇文章洋洋洒洒几千字的年度总结，看完只觉惊为天人，竟有如此才子书生不仅撸的一手好代码，文笔竟也是如此风流缊籍，好生羡慕。&lt;/p>
&lt;p>本想拜访一番，只可惜大佬已离开鹅厂进入了另一个江湖，只留下一篇博客。希望他在下一个江湖也能肆意挥霍自己的才华。&lt;/p>
&lt;p>之后又是看完他的几篇文章越发觉得他是满腹经书之人，一口气把他17年到21年的杂谈文章全都看了一篇，好不快活。一开始的文章也是如少年般稚嫩，全是感情没有技巧，看完只给人中二少年却带点无病呻吟。&lt;/p>
&lt;p>但是一路看下来，发现这个一开始梦想着颠覆这个世界的屠龙少年已经一步步蜕变到成为达则兼济天下，穷则独善其声的盖世大侠。所做所思所想很是让人敬佩。&lt;/p>
&lt;p>遂也是开始学习这位大侠，每年年终对自己过去一年的复盘，并对接下来一年做一个计划，也是不想让自己的人生浑浑噩噩下去，于是便有了这篇年终总结。&lt;/p>
&lt;h3 id="高飞远举">高飞远举&lt;/h3>
&lt;p>2021于我而言是一段旅程的结束，也是另一段更长旅程的开端。&lt;/p>
&lt;p>2021的年初我结束了知乎实习工作回到学校。从北京回南昌的路上好似是有一股近乡情怯的感情，期待中又带着一点点羞怯，刚下飞机就是久违的经典的江南细雨，思思绵绵，像是好久不见的南方姑娘，淅淅沥沥久久缠绵。&lt;/p>
&lt;p>广兰大道，走在这条小路上往事如七月的洪水猛兽奔涌而现，这条路以前我们是经常骑着脚踏车刷步数，挂外卖，翻围墙通宵凌晨回宿舍，调侃着迎面而来的长腿大美女，亦或是像条狗一样吐槽着前面缠绵在树荫下的男男女女。那时的大家都还是社会主义好青年，也是曾立下誓言即使毕业后大家也要一起做社会主义的螺丝钉，放弃爱情奔赴理想。只是没想到还未毕业大家已是偷偷发锈，实习半年回来，大家已是身傍佳人，只留我一人继续为社会主义理想发光发热，我到变成了那最后一条狗罢了。&lt;/p>
&lt;p>&lt;img alt="学校" src="https://cdn.jsdelivr.net/gh/woshidashuaibi-lsj/resources@0.0.1/school-mbf.png">&lt;/p>
&lt;p>一月花了些时间将毕业的一些事情整理完毕，此时已是快放寒假了，想着在疫情和毕业临近的时候这可能是我们最后一次相聚了，说着怎么也得搓一顿，但是大家那时还是个穷酸书生，全身上下加一起可能也就够买箱泡面，于是找了家烧烤店点了份外卖在宿舍畅饮一番，我至今都还记得那家烧烤店叫大昌北，大家凑出个50多块买了几碗炒饭还有几根串，老板最后还送了一瓶还是两瓶啤酒已是记不清，但是依旧是让我们开心半天，一瓶南昌八度大家是传了几圈，酒足饭饱之后大家畅想着未来，说是有钱了回来怎么也要把自己当初舍不得点的串全给点上一遍，吃肉吃到撑，后又是吐槽学校的辣椒炒肉又是涨了五毛钱，连冰绿豆也是涨到了一块七毛钱。再次相聚已是前几天的事，为了致敬那些苦逼得只能吃包菜拌大米饭的日子我们在南昌狠狠吃了3天肉，最后吃到后方阵地失守，到家已是皮燕子戏水，随时开闸泄洪。又是开始怀念学校一块钱的手撕包菜和三块五的辣椒炒肉。焯！&lt;/p>
&lt;p>初高中写作文总喜欢用光阴似箭岁月如梭，其实那时候对这个时间还没有太多的概念，但是毕业的时候这个词再合适不过了大学4年时光其实与我们而言只有两年半的时间，大三下学期疫情突如其来，被迫在家待了半年然后到学校就立刻面试实习，实习半年回来大四上学期已是结束，大四下学期也是没有课索性就呆在家复习准备春招，拿到offer以后5月来到学校大家已是走的差不多了，只剩下几个老友，最后也是几杯老酒拌理想匆匆下肚，说不完的惆怅与不舍。&lt;/p>
&lt;p>那时的我们青春年少，对制度对社会对人性肆意批判，无惧道阻且长，只道是：少年见青春，万物皆妩媚。身虽不饮酒，乐与宾客醉。一从鬓上白，百不见可喜。心肠非故时，更觉日月驶。闻欢已倦往，得饱还思睡。春归只如梦，不复悲憔悴。寄言少年子，努力作春事。亦勿怪衰翁，衰强自然异。&lt;/p>
&lt;p>毕业快乐，我们的前路坦荡，我们来日方长，都说天下没有不散的宴席，但是人生何处不相逢。&lt;/p>
&lt;hr>
&lt;h3 id="情感">情感&lt;/h3>
&lt;p>其实一直以来是不太愿意向外界展示个人的情感，总觉得会有一丝无病呻吟的嫌疑，把自己私密的，敏感的感情公开出来感觉会有一点羞耻，觉得我应该是一个沉静内敛含蓄的人。后来觉得人区别于动物的最大不同是人是有感情有思想的，总是将自己情感隐藏是和动物又有何异，人本性里渴望交流，渴望寻求认同，所以必然会有分享欲，人类的悲欢或许并不相通，但身边的人多多能感受到一二分自己的真实心声，向身边的人袒露心扉，并不失为一种坦荡。&lt;/p>
&lt;p>先来说说亲情吧，可能从小因为长时间一个人生活寄宿的缘故我对父母的依赖度并不是很高，很多亲戚名字甚至都叫不全，对于亲情上我可能是比较冷漠的，对于前往北京远离父母我甚至是抱有一种期待的想法，到也不是和父母有什么矛盾只是觉得父母不在我可以更自由了。于我父母而言，作为儿子我觉得我大体还是可以的，虽然没考上什么名牌大学，但是也在毕业之际进入腾讯工作，我还记得我当时打电话和我妈说我进腾讯了，我妈说不知道腾讯是什么，我说你认识马化腾吗，我妈说我认识马云，当时就给我bang住了，当我和我妈说我工资多少多少的时候我妈可能并没有多开心，可能还认为我进入传销吧，前叮嘱万嘱咐的说要我注意安全吧啦吧啦的。作为农民家庭出身的孩子，可能在父母眼里孩子能够自己养家糊口取个媳妇生个小孩就是全部的人生目标了吧。&lt;/p>
&lt;p>不过对于养家糊口这事目前糊个自己还是没有问题的，娶媳妇这就是个复杂且难整的工序了，很惭愧的说自从高中时代有过一场青涩的初恋，之后就再也没有谈过恋爱了，因为这事我领导甚至一度怀疑我是gay&amp;hellip;&amp;hellip;其实倒也不是我孤芳自赏，只是高中在失恋之后看了本书《霍乱时期的爱情》，那时候我树立的爱情观是对一个人产生了欲望那就是爱情，所以那时候的我觉得爱情是过于单薄且没有任何支持的。直到后来再次见到初恋，歪日，那种悸动是无语言表的，那种悸动就好像潘多拉魔盒封印的怪物一般，疯狂的冲击着魔盒想要破盒而出，我只能死死的摁住魔盒强装自己内心的镇定和不在乎。自古英雄难过美人关，我原以为我看过很多书，经历了很多事，遇见过很多人，早就能坦然的接受任何人，实则还是太低估爱情的魅力了。不过目前游戏漫画工作已是充满我的生活，再也无暇分心其他事，希望领导同事们也别再介绍女生给我了，我爱工作胜过爱女生，等到自己那天爱情开了窍了爱情自是水道渠陈之事。&lt;/p>
&lt;h3 id="工作生活">工作生活&lt;/h3>
&lt;p>因为20年下半年已是在北京工作了一段日子，所以21年在来北京已是有些熟悉了，北京给我的第一感觉是一个熔炉，所有人都在这个巨大熔炉中被搅拌淬炼，少数的好的优质材料被留下来，其余被搅拌的七零八碎的破烂最后一起被排出这个巨大熔炉。我觉得我是个普通人，不是什么好材料，我也不知道何时我会被这巨大熔炉搅得七零八碎，失去七魂六魄，最后只剩下一个残缺的肉体在世间行走。我做不了王阳明那样知行合一的人，只能尽力做一个正直的人。&lt;/p>
&lt;p>在腾讯工作的日子是总得来说是很有意义的，给了我一个平台让我见识到很多牛逼的存在，在他们面前感觉自己想差了10年的经历，算是感受了世界的参差。也受到很多照顾，很幸运遇到大家都是善良真诚的。&lt;/p>
&lt;p>一个人在北京工作其实是孤独的，为此我是专门拉了琪哥和海涛专们组了个学习小分队，每天下班视频连线美其名曰互相监督一起学习，实则只是太过孤单想找两个倒霉蛋倾诉一下，最终也是没学啥，都是聊天侃屁罢了，他们倒也没有厌倦，可能他们也是孤独的，又或许其实漂泊在外的游子也都是孤独的。&lt;/p>
&lt;p>过去一年的时间，其实身体已经感觉大不如从前，以前上个宿舍六楼不说健步如飞，也是大气都不带喘一口的，如今上个6层小楼房已是累的气喘吁吁，体重相比去年也是涨了快20斤，视力也是大大降低，如今也是需要带着眼镜才能看见路上的大美腿了，不失为一种遗憾，今年一定要保重好身体，争取能找时间时不时去健身房看看美女，锻炼倒是次要，毕竟省心愉悦身体才能更健康。&lt;/p>
&lt;p>&lt;img alt="我" src="https://cdn.jsdelivr.net/gh/woshidashuaibi-lsj/resources@0.0.1/my-mfb.png">&lt;/p>
&lt;h3 id="结">结&lt;/h3>
&lt;p>文墨至此，也是才思枯竭，打开手机，群里的老友们又在调侃上次我喝醉以后抱着猫咪一起痛饮一碗，窗外的爆竹声已是零零散散终要止落。&lt;/p>
&lt;p>过去这一年，踏足过山颠也进入过低谷，个中冷暖，涕泪唯有自觉。&lt;/p>
&lt;p>于这个时代和世界而言我们都是渺小的，时代的一粒浪潮打在个人身上那都是惊涛骇浪。我也早已不在意自己这粒尘埃的归宿了，人生天地间，忽如远行客，生亦何欢，死亦何苦。&lt;/p>
&lt;p>穷且益坚，不坠青云之志。新的一年新的世界，我也不知前路何方，或许路上会有彷徨和痛苦，但是成功只是一时的，失败才是人生的主旋律，勇敢面对便好。&lt;/p>
&lt;p>最后祝凛冬散尽，新年快乐。&lt;/p>
&lt;p>&lt;em>&lt;strong>&lt;code>这是一个多美丽又遗憾的世界&lt;/code>
&lt;code>我们就这样抱着笑着还流着泪&lt;/code>
&lt;code>我从远方赶来赶来赴你一面之约&lt;/code>
&lt;code>痴迷流连人间我为他而狂野&lt;/code>
&lt;code>我是这耀眼的瞬间&lt;/code>
&lt;code>是划过天变刹那的火焰&lt;/code>&lt;/strong>&lt;/em>&lt;/p>
&lt;p>————生如夏花（节选） - 朴树&lt;/p></description></item><item><title>黄金时代</title><link>https://woshidashuaibi-lsj.github.io/blog/huangjinshidai/</link><pubDate>Sat, 25 Feb 2023 00:00:00 +0000</pubDate><guid>https://woshidashuaibi-lsj.github.io/blog/huangjinshidai/</guid><description>&lt;p>哎，不对&amp;hellip;&amp;hellip;卧槽！特妈的，狗x的老逼登，原来骂我是儿子！&lt;/p>
&lt;p>应该是上上周周末，突然心血来潮觉得要看看书，也不为什么，可能就是太孤单了，找点东西来填补一下空虚的灵魂，或者也可能想单纯装个逼，摆本书装装样子满足下自己，反正具体我也记不起是为什么了。&lt;/p>
&lt;p>遂跑去问云龙兄最近有啥好书可拿来一品，至于为什么问云龙兄，是因为我觉得他是个有文化的人。为什么觉得他有文化，是因为他爱喝酒，我觉得爱喝酒的人都是有文化的人（当然我不喜欢喝酒，所以我是个没文化的人，但是和他我还是愿意搞两口的）。和他喝酒，喝酒就必要吹牛。云龙兄吹起牛来都是带典故、讲历史的，说到高兴处还能吟上两首俚诗。有次具体啥缘由我也不记得了，只记得当时我们酒喝兴头上，他突然来了句：“hia jin 朱府酒，龙口还作gan”，这是老家话说的，翻译一下就是“饮尽朱府酒，龙口还作干”。听完我们就知道云龙兄要开始装逼了，故给他个台阶，就问啥意思啊。云龙兄咧嘴一笑，就给我们讲了一个他们老家这边一直流传的一个典故，大致说的是有个秀才倒插门进了一个大官的家，大官摆下酒席，宴请四方来客，秀才本来是不太能喝酒的，但是为了在岳父面前装上一逼，他还是拿起酒杯就大口大口的喝，喝完还不忘来上一句“饮尽朱府酒，龙口还作干”，最后结果到头就睡，引得宾客大笑连连，最后秀才也是丢尽颜面。当时听完觉得，草，有点东西啊，知道的挺多这故事有点意思。现在仔细一想，特么的这老逼登不是嘲笑我当时不能喝酒，还搁那猛喝说他家酒不行，不醉人。&lt;/p>
&lt;p>哎，不对&amp;hellip;&amp;hellip;卧槽！特妈的，狗x的老逼登，原来骂我是儿子！&lt;/p>
&lt;p>至此，我特意去考证了一番，发现并没有什么诗人写过这句诗，我现在严正怀疑这小子当时就是临时想的一个故事，拿出来吹牛逼了，还顺带占了我便宜。&lt;/p>
&lt;p>云龙兄一共给我推荐了五本书《呐喊》、《彷徨》、《黄金时代》、《中国历代政治得失》、《性学入门》。&lt;/p>
&lt;p>前两本是迅哥儿的书，我是喜欢迅哥儿的。我之前最喜欢他写的祥林嫂的故事，因为年轻时候我觉得家里人都是祥林嫂，每次回去必要唠叨这唠叨那的，和我说那些说了无数遍的家长里短，烦得很。毕业后我开始被社会毒打，被资本家剥削，我开始喜欢读迅哥儿的狂人日记，边读边骂，“草，狗X的资本家xx家，嘴里全特么是仁义道德，干的都特么都不是人事！”。每次看完横竖睡不着，满脑子的“吃人”。&lt;/p>
&lt;p>但是这次我倒并没有选择迅哥儿的书，可能是怕看完真忍不住“呐喊”几下，自己睡不着那是小事，就怕误了隔壁情侣的大事，那可就是莫大的罪过了，我这一介草民，这阻碍国家倡导生娃政策的罪名我可万万不担不起。至于《中国历代政治得失》我是直接 pass 掉了的。倒不是觉得书不好，只是本草民最近对“政治”两个字过敏。（其实我是爱读历史类的书的，之前一口气把明朝那些事全给看完了，那时候我就励志我要把中华上下五千年的历史通读一遍。以史为镜，可知兴衰。这句话我是认同的。） 至于《性学入门》只看书名的话，我是绝对感兴趣的，这点毋庸置疑。但是最后还是没选择读，主要最近身体确实欠妥，实在是不宜做睡前读物。（感觉这有可能老逼登故意推荐的，就想着把我身体搞垮，我偏偏不着你的道！）。&lt;/p>
&lt;p>挑到最后剩下本《黄金时代》觉得还不错，马上就下单买了。对书我向来是不吝啬，我是个无趣的人，唯独对三样东西情有独钟，美食，音乐，书籍。食色性也，食人之本性，如果这都不能满足自己，生活还有什么乐趣呢？所以每到一个城市，有机会我都会去探一把店。音乐是救世主，我觉得这无需多言，我无法想象没有音乐的世界。至于书籍，胸藏文墨虚若谷，富有书生气自华，这一直是我想成为的样子。&lt;/p>
&lt;p>黄金时代的作者王小波，之前我是没有读过他的书的，只在某些名人名言语录上看过的一些他的句子。因为他的语录经常和郭敬明、七堇年之流放在一块，以至于我一直以为他是青春伤感小说家，和小时代一样专写青春伤感疼痛文学的。看完黄金时代才知道，卧槽，这特么哪是青春伤感作家，这特么就是个老流氓！&lt;/p>
&lt;p>黄金时代一共收录了王小波的三篇中短篇小说，黄金时代、三十而立、似水流年。至于书名为什么叫黄金时代，我是不能理解的。应该叫王二风流史更合适（好像有一版就是这么叫的），不过可能考虑到大部分读者基本都是和我一样，看书名来买书的，王二风流史这俗不可耐的名字实在难登上大雅之堂，遂糊弄个逼格个高一点名字，这确实把我骗到了。&lt;/p>
&lt;p>小说主人公叫王二，我刚看完第一篇章的时候就觉得王小波这老流氓（接下来就以老流氓来代指他），用个王二来欲盖弥彰，掩耳盗铃。这不就是你个老流氓自己的故事吗？不过后续在似水流年中，老流氓专门为此辩解了一番，说之前他砸了别人家窗户，还乐呵呵的把这件事写到日记中，用的笔名也是自己，结果日记被人发现，并且仇家以笔名为据，棒揍了老流氓一顿，从那以后老流氓所有的文章都不再用自己的姓名，而是以王二代称了。只能说活该，不过王二这个名字怎么看怎么不着调，而且都姓王，反而有种此地无银三百两的感觉。我以后要是写小说，我也要给自己取个笔名，就叫朱海彬，彭一鸣什么的，不为什么，就觉得这些名字霸气。&lt;/p>
&lt;p>三个篇章中最喜欢的就是黄金时代了，讲的是王二20多岁出头，去云南边区下乡插队的故事。故事从徐清扬破鞋事件开始的，徐清扬是知识分子下放到乡村当医生，因为长得好看，气质出众，在村里被人指指点点，说她搞破鞋，王二找她看了一次病，于是大家都开始说王二和徐清扬搞破鞋。她就去找王二让他帮他证明自己没有搞破鞋，结果王二说：“我们不能证明自己无辜，我倒倾向于证明自己不无辜”。至此才看到第10页我就判定王小波就是老流氓无疑。后续也证明了我的判断是没错的。因为后面在流氓王二的建议下，两人真“敦了一次伟大的友谊”。老流氓啊老流氓真叫人可恨。不过从他们真开始搞“破鞋”后，大家却都不再议论他们搞”破鞋“的事。关于徐清扬破鞋这件事我还是挺有感触的，很多时候大家只愿意去相信自己所认为的“事实”，从一开始大家就是带有主观意识的来评头论足他们口中所谓的“事实”或是“正义”，而不管真实发生了什么，也不论他人的辩解，因为这些对他们都不重要，他们只想站在一个所谓的至高点去攻击罢了。&lt;/p>
&lt;p>黄金年代中老流氓写了大量的关于他和徐清扬性爱的事，因为老流氓说他所有的故事都只有一个共同的主题&amp;ndash;我们的生活，而性爱是生活不可或缺的一件事。人食色性也，一生下来就会本能的吃奶、吃食物，而色是人类繁衍不可或缺的一步。所以老流氓认为这些没什么好避讳的，写也很直白。我倒是对他这些写法没有太多的想法，只觉得如果我要是早点看到你的书，也就不会认那些日本婆娘当老师，你必然是我心中排名第一的老师，即使是三上老师也不能和你相提并论。&lt;/p>
&lt;p>最后徐清扬也没和王二走到一起，很自然的分离了。最后看上去他们只是在那个苦难的时代相互利用和慰藉，但我觉得他们之间是有爱情的，王二是爱徐清扬的，徐清扬是爱王二的，要说理由我也说不上来，这只是我看完书以后的自我感觉，他们是否真的有爱情，也许也只有老流氓才知道吧。人们相爱的时候总说相见恨晚，意思是如果能早点遇见你我们或许会更好。但是我觉得相见恨早才是一件令人难过的事，我们在不成熟的年纪遇上了对的人，但是我们不懂的怎么去爱，去照顾对方的感受，去欣赏对方的美好。到最后只能草草收场，几年过后你再回想，如果是现在，自己一定能做的更好吧。徐清扬和王二爱情大抵也是如此吧。&lt;/p>
&lt;p>黄金时代最有名的应该是关于受锤的论述了，“生活就是个缓慢受锤的过程，人一天天的老下去，奢望也一天天消失，最后变得像挨了锤的牛一样。”我在书中看到这句的时候倒并没有太多的感触，因为我觉得我就是这样，并且我很早就知道我是这样的，我刚毕业去北京我就是这么想的。我看到他写的这段话，心里反而是一阵窃喜，老流氓你四十多岁才能领悟的东西，老子二十多岁就知道了。不过仔细想想好像又不对，为啥我这么年轻就会领悟这些，越想越不对，FUCK!&lt;/p>
&lt;p>关于黄金时代这个篇章我还有很多有趣的东西想说的，比如王二和徐清扬一起亡命山间，还有他们下山后给领导写反思总结报告，结果王二把他们每日是怎么“敦友谊”的，写到报告里面去了，对此领导看的是乐此不疲&amp;hellip;&amp;hellip;但是我今天太困了，已经凌晨四点了，虽然精神灵感迸发，但是奈何上眼皮怎么也不争气，关于徐清扬和王二的故事也就到此为止吧。&lt;/p>
&lt;p>至于另外两个篇章三十而立和似水流年，我觉得三十而立没有什么太多的好讲的，人物出场太多了，当个乐子看挺有意思的。似水流年则有我一直想聊的两个主题爱情和死亡，看完之后，其实我脑海里都整理好了大致的草纲准备输出一波，但仔细一想，爱情于我目前孤寡青年的身份而言好像有点不配，算了。不要以为自己懂爱，其实没多少人懂的。死亡是个很好的话题，因为有很多个时刻我都想死，这是和我切身相关的话题，但是我觉得这个话题太大太沉重，自己的阅历还说不好它，这个论题暂且搁置，但是之后我一定会写写的。&lt;/p>
&lt;p>《黄金时代》从买来到看完我只花不到一周的时间，而我去年一本《激荡三十年》看了一年也没看完，惭愧惭愧，不过为此我还是要解释一番，《激荡三十年》这种偏记录类的书，读起来着实令人想睡，内容是偏记录类，一个浮躁的心是怎么也读不了的，不过它确实是本好书。其实原本是准备花一个月时间看完的，每天睡前看半小时，谁知一看根本停不下来，确实是很有意思的书，推荐男同志们都可以去看看，至少为里面的情爱而看也是值得的。倒是不太推荐女生看，里面的性爱和一些表述可能会让你觉得这是本流氓低俗小说，当然我确实也认为这是一本流氓小说，至于低不低俗就由大家自己去评判。当然老流氓写的小说有个很大问题，这个我是必须要说道说道的，上下文的衔接毫无章法，感觉老流氓是想到哪里就写哪里，有时候本来讲一个故事扯的挺好的，结果话锋一转，就开始聊另一件事，聊了半天又回到开头那件事，以至于我都忘记了开头的事，部分地方读起来颇为费劲。很多时候看上去是第三人称叙事手法，看着看着就带入了第一人称，以至于感觉自己也是个流氓，当然事实上我并不是流氓，这个我是可以用假设法来论述我不是流氓的，如果我是流氓，我身边的妹子应该都被我流氓了个遍，以我三分帅气，三分才气，和四分的流氓气，这些女生应该早早拜倒在我的拖鞋之下了，我也不堪单身到现在，所以最后的结论是，我不是流氓。&lt;/p>
&lt;p>行文至此，已是快要猝死之状。也是第一次写这种读书杂谈的，觉得挺有意思的一写就停不下来，以前我是不喜欢写东西的，而现在是喜欢的，为什么，我是认真去思考过的，得出的结论是，我以前写作都是写在纸上，而我的字又太丑，每次写完我自己都不想看，以前写东西老师是规定了范围的，你每次都有特定的主题、时间、规范，什么事都要围绕这个主题来编纂，这着实不太符合我的个性，现在我是在电脑上扣字，电脑会帮我写的整整齐齐的，我想写的东西可以随意发挥，确实让我感受写作的乐趣。我是有个梦想的，我想成为一名作家，我觉得在写作这件事上我还是有些许天赋的，我自己也是喜欢的。&lt;/p>
&lt;p>睡了&amp;hellip;&amp;hellip;&lt;/p>
&lt;pre>&lt;code> 2023/02/25 凌晨4点
&lt;/code>&lt;/pre></description></item><item><title>2022入海</title><link>https://woshidashuaibi-lsj.github.io/blog/2022zongjie/</link><pubDate>Mon, 30 Jan 2023 00:00:00 +0000</pubDate><guid>https://woshidashuaibi-lsj.github.io/blog/2022zongjie/</guid><description>&lt;p>傍晚六点下班换掉药厂的衣裳
妻子在熬粥我去喝几瓶啤酒
如此生活三十年直到大厦崩塌
云层深处的黑暗啊淹没心底的景观&lt;/p>
&lt;p>&amp;mdash;&amp;mdash;-杀死那个石家庄人（节选）&lt;/p>
&lt;h2 id="前言">前言&lt;/h2>
&lt;p>下笔之前，回头又去看了下去年的年终总结，看得出当时是非常开心的，全篇时不时的显露下自己小得意和略带矫情的文字，确实让人讨厌，不过好歹流露出的感情是真的，倒也算得上真诚。&lt;/p>
&lt;p>在文章末尾我说：&lt;code>于这个时代和世界而言我们都是渺小的，时代的一粒浪潮打在个人身上那都是惊涛骇浪。我也早已不在意自己这粒尘埃的归宿了，人生天地间，忽如远行客，生亦何欢，死亦何苦。&lt;/code>本想要装个逼抒发一下心中豪言壮志，怎料一语中的，时代浪潮真打过来了，然而我却并没有生亦何欢，死亦何苦的觉悟。&lt;/p>
&lt;p>我也开始经历社会毒打，毕业前我觉得我要按自己想法去过自己的生活，看到不平之事就要一声吼，妄图想去改变这个世界，如果你在 2021 年时常路过广兰寺的南六609宿舍，你听到从宿舍传出来不绝于耳的吹牛声，不用想，我应该就是其中一员，从下午一直聊到凌晨，大家指点江山，抨击制度，痛斥资本和腐败，感觉自己就是当年在清华园高举反帝反封建旗帜的五四青年。&lt;/p>
&lt;p>现在毕业一年多了我只觉得我是傻逼。&lt;/p>
&lt;p>傻逼倒不是觉得当时吹过的牛逼很傻逼，毕竟&lt;code>少年志，少年说&lt;/code>，每个人都曾年轻过，亦曾怀念年少的模样，希望能怀揣年少时的志向一直走下去，只是在生活的磨砺下大部分人早就把年少时的志向埋向心底，把生活放在眼前。&lt;code>而我傻逼的是把生活想得太简单了&lt;/code>。&lt;/p>
&lt;h2 id="毕业">毕业&lt;/h2>
&lt;p>生活就像一盒巧克力，你永远不知道下一块会是什么味道。&lt;/p>
&lt;p>7月，我又毕业了。&lt;/p>
&lt;p>当时其实部门内早就有风声说会裁员，但是当时觉得只会在年底有小比例的优化，不会有很大比例的裁员。事实确实是没有大比例的裁员，可能是怕领导为难出裁员名单，上面就干脆把整个组给裁了，也算是帮领导省下不少事。&lt;/p>
&lt;p>当时给了两个月缓冲，也算仁义，但是自觉留京没啥意义，遂提前一个月办理了离职。当时裁员对我来说其实并没有太大的影响，也会焦虑，但是并没有过于焦虑。当时我并没有什么金钱上的压力，本身加上一笔不错的赔偿其实当时也算有了第一桶金，足够我花天酒地很长一段时间了。&lt;/p>
&lt;p>唯一舍不得的就是组里的同事，每天上班吹牛逼，下班一块探店、打球。关系反而更像是学生时代友情，不太像职场上的同事关系。只是分别的时候不像学生时代相互诉说着豪情壮志对未来充满着憧憬、相互祝福顶峰相会，大家更多的是插科打诨，吐槽着职场和生活的种种烦恼，配合着一瓶瓶的令人涨肚的啤酒，一醉解千愁，这也许就是大家为数不多能的逃避现实的方法。大家祝好～ 借用大佬的话，圈子很小，我们一定会有机会重逢的。&lt;/p>
&lt;h2 id="离京">离京&lt;/h2>
&lt;pre tabindex="0">&lt;code>我想离开浪浪山
我在想跟着大王是挺好的
可是这一辈子待在浪浪山也是无趣
是不是该出去闯闯
--小妖怪的夏天（节选）
&lt;/code>&lt;/pre>&lt;p>小时候总是想着远离父母，免得他们唠叨，初中读书努力考上县里的高中，高中又努力往外走来到市里，毕业后又努力面试刷题，想着年轻，出去闯闯，去个大一点城市，于是来到京城，翻过一座又一座的浪浪山，后来发现浪浪山外还是浪浪山，而我也一直是这一座座浪浪山里是边角料。&lt;/p>
&lt;p>于是这次我离开了北京，选择了离家更近的城市。&lt;/p>
&lt;p>其实还是挺喜欢北京这座城市的。&lt;/p>
&lt;p>我喜欢北京的冬天，因为作为一直生活在南方的男孩来说，每次看到雪都像看到一个大玩具一样，很开心！&lt;/p>
&lt;p>我也喜欢北京的秋天，因为北京的秋天真的很有一番风味，虽然上下班的路上，我总是来也匆匆，去也忙忙，但是每次在这段路上我都会放下手机，看看枯黄的树叶从老枝上盘旋而下，落满了石板路，慢慢的踩在这些落叶上会不停的发出树枝折断的声音，如果下班下得早还能见到夕阳的话，那景象就更美了，夕阳倒映在婆娑的老树上倒映出霞光点点，此时你在抬头看看天边，霞光映蹭出的霞云红彤彤的一片，你在驻足些许，也许就能看到，连片的彩云慢慢的变成一条红线，直到消失不见。在北京的秋天你总能看到这样的景色，当然前提是你能迎着夕阳下班。&lt;/p>
&lt;p>除了景，北京也确实是个好城市，有干净规划完整的街道，有很好的就业环境教育资源，有很多历史人文景点，有各种名人演出，有美丽的景色&amp;hellip;&amp;hellip;&lt;/p>
&lt;p>但是高昂的房价，稀有的户口和牌照，和离家千里的距离都不是我一个小猪妖能承受的了的。&lt;/p>
&lt;p>so 再见，北京。以后应该还会再见吧。&lt;/p>
&lt;h2 id="回村闭关出世">回“村”闭关、出世&lt;/h2>
&lt;p>离开北京之后我就回到南昌，大学在南昌待了四年，无忧无虑的四年，所以回到南昌总能让我回到避风港的感觉，感觉这是一座能给我带来好运的城市。&lt;/p>
&lt;p>我租下了一个不错的河景房，而且价格只有我之前北京房租的三分之一，很开心，而且离我大学同学很近，我还能时不时的去骚扰他们。&lt;/p>
&lt;p>八月应该是我毕业以后最放松的一个月，我每天睡到自然醒，醒了看一个半小时的面试知识点然后吃饭，午睡，起来看三个小时面试题，然后下楼吃饭，运动一下，然后回去打打游戏，看看书，看看视频。一天就过去了，没给自己一点压力，就过自己想要的生活。&lt;/p>
&lt;p>九月感觉差不多就开始给自己上压力刷题，准备面试了，月底拿了网易的 offer，感觉差不多就直接接了，在广州，离家近，家人也都在，感觉挺好的。&lt;/p>
&lt;p>之后就是为了生活努力工作罢了。&lt;/p>
&lt;p>回头看，轻舟已过万重山，人间风雨各处有，何处不是浪浪山，吾心安处，即是吾乡。&lt;/p>
&lt;h2 id="信">信&lt;/h2>
&lt;p>这一年于历史而言应该是值得历史铭记的一年。2月俄乌战争突然打响。7月日本前首相安培晋三被刺杀。8月佩洛西访台。9月英国女王伊莉莎白二世逝世。11月伟大领导人江泽民逝世。12月梅西带领阿根廷世界杯夺冠。&lt;/p>
&lt;p>这一年于我而言最重要的事是终于不用做核酸了，可以放心的回家过年了，可以看演唱会了，可以去看各种演出，去电影院，去你想去的任何地方，核酸码也成为了历史。&lt;/p>
&lt;p>然后&amp;hellip;&amp;hellip;12月我也成功患上了新冠，不过还好一周差不多康复了。希望今年能健健康康。&lt;/p>
&lt;p>基金到年底基本上快回本也算是个好消息。&lt;/p>
&lt;p>《激荡三十年》只看完了上册的三分之二，争取今年看完，然后有时间再看看毛选。&lt;/p>
&lt;p>八块腹肌大计未能实现，现在反而大腹便便，又胖了不少。今年也不要八块腹肌了，争取每周都能有点运动量。&lt;/p>
&lt;p>希望今年能去看一场陈奕迅的演唱会。&lt;/p>
&lt;p>过年没回老家，没能和老友们一聚，真的很难受，明年天王老子来了也得回我的浪浪山。&lt;/p>
&lt;p>去年被裁员一次，今年争取不被裁。&lt;/p>
&lt;p>争取能出去旅游一次，给自己放个假。&lt;/p>
&lt;p>去年依旧单身，但是&lt;code>孤独的人是可耻的&lt;/code>，今年继续努力，争取能和女生多聊上两句，冲！&lt;/p>
&lt;p>今年最重要的事：按时吃饭，早点睡觉。&lt;/p>
&lt;h2 id="自省">自省&lt;/h2>
&lt;p>去年生活上倒是没什么大改变，只是习惯了一个人，没有太多的兴趣和社交，每天除了工作就是下班回家宅家里，看动漫，打游戏。倒也没觉得不好，一直觉得有人的地方就有江湖，所以总是希望避免社交，这样相应烦恼和琐事也会少，事物都是有两面性，减少了社交确实能免去很多事，但是也少了很多乐趣，这在于个人取舍，目前觉得现在这样也挺好的。&lt;/p>
&lt;p>去年花了太多时间在手机上，感觉现在脑子只能处理那种手机上碎片化的信息，好几次尝试拿起书想认真看下去，都感觉看不下去，今年要适当减少手机的使用量，多看看书，始终觉得书籍才是正常能带领人脱离苦海的正确途径。很多时候当时看下的书，可能你不能体会到其中的妙意，不能给你带来什么正向的作用，但是在未来的某个时刻或者经历了一些事以后一定会给予你反哺。&lt;/p>
&lt;p>其实按理这篇年终总结早就应该写好的，但是很多时候总是写不了笔，我也不知道为啥，就是没有感觉。一直拖到今天，写到后面原来想说的一些内容也不知道怎么表述了，就这样吧。&lt;/p>
&lt;p>过去这一年，有彷徨，有失落，踏足过山颠也进入过低谷，个中冷暖，唯有自感。&lt;/p>
&lt;p>面对这个新世界，也并没有了去年的远大抱负，只想苟活于世，&lt;code>少许烦恼多些开心便是最好的了&lt;/code>。&lt;/p></description></item><item><title>Chrome DevTools 快速入门</title><link>https://woshidashuaibi-lsj.github.io/blog/chrome-devtools/</link><pubDate>Sun, 20 Jun 2021 00:00:00 +0000</pubDate><guid>https://woshidashuaibi-lsj.github.io/blog/chrome-devtools/</guid><description>&lt;p>俗话说的好，工欲善其事，必先利其器。要想做好前端开发，就必须快速精准的定位bug和查看代码的质量，所以首先就得学会使用Chrome控制台的使用。废话不多说直接开淦！&lt;/p>
&lt;p>首先第一步Chrome DevTools打开的快捷键 ：&lt;/p>
&lt;p>使用 Ctrl + Shift + I (Mac上为 Cmd+Opt+I)打开DevTools。
使用 Ctrl + Shift + J (Mac上为 Cmd+Opt+J)打开DevTools中的控制台
使用 Ctrl + Shift + C (Mac上为 Cmd+Shift+C)打开DevTools的审查元素模式。
除此之外还可以右击鼠标检查
Element
打开控制台以后咱先从最上面的开始看起。&lt;/p>
&lt;p>首先点击右上角的鼠标箭头以后可以通过鼠标直接获取元素dom&lt;/p>
&lt;p>下面是&lt;/p>
&lt;p>styles ：主要是当前选中元素的样式相关，我们平常可以直接在上面调试样式，边看边修改，会比在编辑器里面修改方便很多。&lt;/p>
&lt;p>Computed ：这里主要方便我们查看元素css的具体属性值。&lt;/p>
&lt;p>Layout ：布局相关&lt;/p>
&lt;p>EventListeners ：这个属性是用来帮助我们监听dom事件的并且可以帮助我们定位到相应的触发事件的代码：&lt;/p>
&lt;p>DOMBreakpoint ：这个是给相应的dom打断点&lt;/p>
&lt;p>Subtree modifications: 子节点删除或添加时
Attributes modifications: 属性修改时
Node Removal: 节点删除时
Properties ：dom属性&lt;/p>
&lt;p>Accessibility ：dom可访问性&lt;/p>
&lt;p>除此之外我们还可以右击元素，有多种对元素的操作，比如直接编辑元素html，或者修改删除dom，DOM元素也是可以直接进行拖动编辑修改的,还有打断点，直接生成并且下载dom元素图片等等骚操作，有兴趣可以一个一个去试试。&lt;/p>
&lt;p>补充一个我们平时调试css的时候我们想看一个元素的hover或者其他点击等状态的样式&lt;/p>
&lt;p>如何快速定位代码位置&lt;/p>
&lt;ol>
&lt;li>
&lt;p>最简单粗暴的就是直接在编辑器里面command+shift+F查找关键词，比如页面上出现的唯一汉字，或者dom上的class id 名等&lt;/p>
&lt;/li>
&lt;li>
&lt;p>还有我们上面提到过的EventListeners 这个属性是用来帮助我们监听dom事件的并且可以帮助我们定位到相应的触发事件的代码。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>3.DOMBreakpoint相应的dom打断点，然后去触发那个事件，例如：&lt;/p>
&lt;p>这里我们给input框打上Attributes modifications的断点，然后点击触发这个断点，就能通过call stack的调用栈来查找事件触发的代码。&lt;/p>
&lt;p>4.我们也能通过styles来定位css文件和代码&lt;/p>
&lt;p>Console
这个面板内主要是我们用来看打印日志和一些警告和错误（当我们看见控制台中的错误时，不管代码是不是能否跑通我们都应该去解决这个错误，这是一个程序员应该有的好习惯），我们也可以吧这个当成是一个js编辑器可以直接在上面测试一些js代码。&lt;/p>
&lt;p>下面是一些console的一些方法除了常见的几个log和error等，time和timeEnd这个也是比较常用的一般我们可以用这两个方法来判断一个方法或者函数执行的事件（这个方法在某些情况下还是很有用的）具体可参考：https://developer.chrome.com/docs/devtools/console/api/&lt;/p>
&lt;p>补充一个，在控制台输入document.body.contentEditable=&amp;ldquo;true&amp;quot;或者document.designMode = &amp;lsquo;on&amp;rsquo;就可以实现对网页的编辑。&lt;/p>
&lt;p>Source
这个面板是用来存放源代码的，我们可以在这里查找代码然后给代码打上断点，（除此之外你也可以在代码上打上debugger 来打断点）&lt;/p>
&lt;p>Performance（性能监控）&lt;/p>
&lt;ol>
&lt;li>代发覆盖率
在这里我们能看到这个某个js文件在当前页面被执行了多少，从而可以队代码进行优化。&lt;/li>
&lt;/ol>
&lt;p>2.函数执行时间
Performance面板的 call tree 可以查看每个函数的执行时间，方便我们找到性能瓶颈。&lt;/p>
&lt;p>记录过程：&lt;/p>
&lt;p>首先点击控制条左边的第一个圆圈，开始记录日志
等待几分钟 (正常操作页面)
点击 Stop 按钮，Devtools 停止录制，处理数据，然后显示性能报告&lt;/p>
&lt;p>3.相关性能指标
接下来咱们来了解浏览器的几个性能指标（其中核心指标为LCP-加载，FID-交互,CLS-视觉稳定）&lt;/p>
&lt;p>First contentful paint (FCP): 测量页面开始加载到某一块内容显示在页面上的时间。
Largest contentful paint (LCP): 测量页面开始加载到最大文本块内容或图片显示在页面中的时间。
First input delay (FID): 测量用户首次与网站进行交互(例如点击一个链接、按钮、js 自定义控件)到浏览器真正进行响应的时间。
Time to Interactive (TTI): 测量从页面加载到可视化呈现、页面初始化脚本已经加载，并且可以可靠地快速响应用户的时间。
Total blocking time (TBT): 测量从 FCP 到 TTI 之间的时间，这个时间内主线程被阻塞无法响应用户输入。
Cumulative layout shift (CLS): 测量从页面开始加载到状态变为隐藏过程中，发生不可预期的 layout shifts 的累积分数。&lt;/p>
&lt;p>Google 官方提供了一个web-vitals库，线上或本地都可以测量上面提到的 3 个指标：&lt;/p>
&lt;p>import {getCLS, getFID, getLCP} from &amp;lsquo;web-vitals&amp;rsquo;;function sendToAnalytics(metric) { const body = JSON.stringify(metric); // Use &lt;code>navigator.sendBeacon()&lt;/code> if available, falling back to &lt;code>fetch()&lt;/code>. (navigator.sendBeacon &amp;amp;&amp;amp; navigator.sendBeacon(&amp;rsquo;/analytics&amp;rsquo;, body)) || fetch(&amp;rsquo;/analytics&amp;rsquo;, {body, method: &amp;lsquo;POST&amp;rsquo;, keepalive: true});}getCLS(sendToAnalytics);getFID(sendToAnalytics);getLCP(sendToAnalytics);
具体见https://mp.weixin.qq.com/s/RCJftzmhQbc-b89pU5d32w&lt;/p>
&lt;p>Network
我们在这个面板是查看接口请求的情况&lt;/p>
&lt;p>我们可以在这个面板中控制网速，Network&amp;ndash;&amp;gt;nothrotting。&lt;/p>
&lt;p>平时我们和后端连调，如果后端要你发接口情况，右击接口&amp;ndash;&amp;gt;copy&amp;ndash;&amp;gt;copy as cURL ,将其发送给后端，当然我们自己也要学会看请求头里面的一些基本信息，比如跨域， 缓存，302 301等等，如果想重新请求一个接口也不需要重新刷新一个页面，直接右击接口&amp;ndash;&amp;gt;Replay XHR&lt;/p>
&lt;p>Application&lt;/p>
&lt;p>storage浏览器携带的存储，&lt;/p>
&lt;p>Local Storage 永久存储&lt;/p>
&lt;p>session Storage会话级的存储&lt;/p>
&lt;p>Web Sql Database，“本地数据库”，是随着HTML5规范加入的在浏览器端运行的轻量级数据库。 在HTML5中，大大丰富了客户端本地可以存储的内容，添加了很多功能来将原本必须保存在服务器上的数据转为保存在客户端本地，从而大大提高了Web应用程序的性能，减轻了服务器端的负担，使Web时代重新回到了“客户端为重，服务器为轻”的时代。&lt;/p>
&lt;p>IndexedDB是HTML5规范里新出现的浏览器里内置的数据库。对于在浏览器里存储数据，你可以使用cookies或local storage，但它们都是比较简单的技术，而IndexedDB提供了类似数据库风格的数据存储和使用方式。存储在IndexedDB里的数据是永久保存，不像cookies那样只是临时的。&lt;/p>
&lt;p>cookie: httponly 禁止通过document.cookie获取cookie值一种安全策略。&lt;/p>
&lt;p>samesite:防止 CSRF 攻击和用户追踪，黑客通过你已经登陆过的状态，伪造用户发出请求，获取数据&lt;/p>
&lt;p>总结
除了上面的这些常用的基本操作，浏览器还提供了很多的功能等待我们去发掘。&lt;/p>
&lt;p>参看文献
&lt;a href="https://leeon.gitbooks.io/devtools/content/learn_basic/using_console.html">https://leeon.gitbooks.io/devtools/content/learn_basic/using_console.html&lt;/a>&lt;/p>
&lt;p>&lt;a href="https://juejin.cn/post/6844903844573347854#heading-8">https://juejin.cn/post/6844903844573347854#heading-8&lt;/a>&lt;/p>
&lt;p>&lt;a href="https://developer.chrome.com/docs/devtools/">https://developer.chrome.com/docs/devtools/&lt;/a>&lt;/p>
&lt;p>&lt;a href="https://juejin.cn/post/6844903844573347854#heading-8">https://juejin.cn/post/6844903844573347854#heading-8&lt;/a>&lt;/p>
&lt;p>&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-将原来掘金的文章迁移过来图片得重新发一遍cdn，不想搞了，凑合着用，原文： &lt;a href="https://juejin.cn/post/6975882356737458183">https://juejin.cn/post/6975882356737458183&lt;/a>&lt;/p></description></item><item><title>小程序 video 组件踩坑记录</title><link>https://woshidashuaibi-lsj.github.io/blog/video-caikeng/</link><pubDate>Sun, 30 May 2021 00:00:00 +0000</pubDate><guid>https://woshidashuaibi-lsj.github.io/blog/video-caikeng/</guid><description>&lt;p>需求是当滑动视窗口的时候，当上一个正在播放的视频消失在视窗的时候，滑动也暂停，将这个视频暂停，同时捕获页面内的视频，播放离顶部最近的视屏。&lt;/p>
&lt;p>最开始我这里是做了一个判断进入页面的时候第一个视频自动播放&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-js" data-lang="js">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">autoplay&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{key===0?true:false}}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>然后我们需要先做的就是点击播放视频的时候暂停另外一个视频的播放。这里我们需要用到wx.createVideoContext去创造video的实例，控制video的播放和暂停。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-js" data-lang="js">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">indexCurrent&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#e6db74">&amp;#34;video_0&amp;#34;&lt;/span>,&lt;span style="color:#75715e">// 记录播放的下标
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#a6e22e">videoPlay&lt;/span>(&lt;span style="color:#a6e22e">e&lt;/span>) { &lt;span style="color:#75715e">//点击播放时触发
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// 当点击其他video播放时让原来的video暂停
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#f92672">!&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">indexCurrent&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">setData&lt;/span>({ &lt;span style="color:#a6e22e">indexCurrent&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#a6e22e">curIdx&lt;/span> });
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">videoContext&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">wx&lt;/span>.&lt;span style="color:#a6e22e">createVideoContext&lt;/span>(&lt;span style="color:#e6db74">`&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>&lt;span style="color:#a6e22e">curIdx&lt;/span>&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">`&lt;/span>, &lt;span style="color:#66d9ef">this&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">//这里对应的视频id
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#a6e22e">videoContext&lt;/span>.&lt;span style="color:#a6e22e">play&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> } &lt;span style="color:#66d9ef">else&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 有播放时先将prev暂停，再播放当前点击的current
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">videoContextPrev&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">wx&lt;/span>.&lt;span style="color:#a6e22e">createVideoContext&lt;/span>(&lt;span style="color:#e6db74">`&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">indexCurrent&lt;/span>&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">`&lt;/span>, &lt;span style="color:#66d9ef">this&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">//this是在自定义组件下，当前组件实例的this，以操作组件内 video 组件
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">indexCurrent&lt;/span> &lt;span style="color:#f92672">!==&lt;/span> &lt;span style="color:#a6e22e">curIdx&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">videoContextPrev&lt;/span>.&lt;span style="color:#a6e22e">pause&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">setData&lt;/span>({ &lt;span style="color:#a6e22e">indexCurrent&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#a6e22e">curIdx&lt;/span> });
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">videoContextCurrent&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">wx&lt;/span>.&lt;span style="color:#a6e22e">createVideoContext&lt;/span>(&lt;span style="color:#a6e22e">curIdx&lt;/span>, &lt;span style="color:#66d9ef">this&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">videoContextCurrent&lt;/span>.&lt;span style="color:#a6e22e">play&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 同时要把此时播放的视频记录下来
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">setData&lt;/span>({ &lt;span style="color:#a6e22e">cover_msg&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">cover_msg&lt;/span> });}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>然后是去获取所有video的dom保存他们距离顶部的距离：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-js" data-lang="js">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">query&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">wx&lt;/span>.&lt;span style="color:#a6e22e">createSelectorQuery&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">query&lt;/span>.&lt;span style="color:#a6e22e">selectAll&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;.video-list&amp;#39;&lt;/span>).&lt;span style="color:#a6e22e">boundingClientRect&lt;/span>(&lt;span style="color:#a6e22e">rect&lt;/span> =&amp;gt; {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">rect&lt;/span>.&lt;span style="color:#a6e22e">forEach&lt;/span>(&lt;span style="color:#a6e22e">item&lt;/span> =&amp;gt; {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">console&lt;/span>.&lt;span style="color:#a6e22e">log&lt;/span>(&lt;span style="color:#a6e22e">item&lt;/span>.&lt;span style="color:#a6e22e">top&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">videoAllTop&lt;/span>.&lt;span style="color:#a6e22e">push&lt;/span>(&lt;span style="color:#a6e22e">item&lt;/span>.&lt;span style="color:#a6e22e">top&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> });
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }).&lt;span style="color:#a6e22e">exec&lt;/span>();
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>然后重点就是去监听页面的滚动，我们通过监听此时播放的video的top值来判断此时播放的video是否消失，如果消失我们就用滚动的距离scrollTop加上视窗的距离的一半，来判断此时页面滚动的位置然后来播放此时的在页面的距离：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-js" data-lang="js">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">onPageScroll&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#a6e22e">tool&lt;/span>.&lt;span style="color:#a6e22e">debounce&lt;/span>(&lt;span style="color:#66d9ef">function&lt;/span> (&lt;span style="color:#a6e22e">e&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">query&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">wx&lt;/span>.&lt;span style="color:#a6e22e">createSelectorQuery&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">windowHeight&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">wx&lt;/span>.&lt;span style="color:#a6e22e">getSystemInfoSync&lt;/span>().&lt;span style="color:#a6e22e">windowHeight&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">midWindow&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">e&lt;/span>[&lt;span style="color:#ae81ff">0&lt;/span>].&lt;span style="color:#a6e22e">scrollTop&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#a6e22e">windowHeight&lt;/span> &lt;span style="color:#f92672">/&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">console&lt;/span>.&lt;span style="color:#a6e22e">log&lt;/span>(&lt;span style="color:#a6e22e">windowHeight&lt;/span> &lt;span style="color:#f92672">/&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">query&lt;/span>.&lt;span style="color:#a6e22e">select&lt;/span>(&lt;span style="color:#e6db74">`#&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">indexCurrent&lt;/span>&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">`&lt;/span>).&lt;span style="color:#a6e22e">boundingClientRect&lt;/span>(&lt;span style="color:#a6e22e">rect&lt;/span> =&amp;gt; {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">bottom&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">rect&lt;/span>.&lt;span style="color:#a6e22e">bottom&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">top&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">rect&lt;/span>.&lt;span style="color:#a6e22e">top&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">videoContextPlay&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">wx&lt;/span>.&lt;span style="color:#a6e22e">createVideoContext&lt;/span>(&lt;span style="color:#e6db74">`&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">indexCurrent&lt;/span>&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">`&lt;/span>, &lt;span style="color:#66d9ef">this&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#a6e22e">bottom&lt;/span> &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 下滑动超出视窗口则暂停该视频同时把滑动的距离加上一半视窗的距离算出大概此时滑动到哪个video下然后播放这个video
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#a6e22e">videoContextPlay&lt;/span>.&lt;span style="color:#a6e22e">pause&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">let&lt;/span> &lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; &lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">videoLength&lt;/span>; &lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#a6e22e">midWindow&lt;/span> &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">videoAllTop&lt;/span>[&lt;span style="color:#a6e22e">i&lt;/span>] &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#a6e22e">midWindow&lt;/span> &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">videoAllTop&lt;/span>[&lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>]) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">videoContextNextPlay&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">wx&lt;/span>.&lt;span style="color:#a6e22e">createVideoContext&lt;/span>(&lt;span style="color:#e6db74">`video_&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">`&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">videoContextNextPlay&lt;/span>.&lt;span style="color:#a6e22e">play&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">setData&lt;/span>({
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">indexCurrent&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#e6db74">`video_&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> });
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#a6e22e">top&lt;/span> &lt;span style="color:#f92672">&amp;gt;=&lt;/span> &lt;span style="color:#a6e22e">windowHeight&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 上滑超出，重新计算新的需要播放的视频
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#a6e22e">videoContextPlay&lt;/span>.&lt;span style="color:#a6e22e">pause&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">let&lt;/span> &lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; &lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">videoLength&lt;/span>; &lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#a6e22e">midWindow&lt;/span> &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">videoAllTop&lt;/span>[&lt;span style="color:#a6e22e">i&lt;/span>] &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#a6e22e">midWindow&lt;/span> &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">videoAllTop&lt;/span>[&lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>]) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">videoContextNextPlay&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">wx&lt;/span>.&lt;span style="color:#a6e22e">createVideoContext&lt;/span>(&lt;span style="color:#e6db74">`video_&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">`&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">videoContextNextPlay&lt;/span>.&lt;span style="color:#a6e22e">play&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">setData&lt;/span>({
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">indexCurrent&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#e6db74">`video_&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> });
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }).&lt;span style="color:#a6e22e">exec&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }),
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>这里监听页面的滚动我们需要做一个防抖的处理：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-js" data-lang="js">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">function&lt;/span> &lt;span style="color:#a6e22e">debounce&lt;/span>(&lt;span style="color:#a6e22e">fn&lt;/span>, &lt;span style="color:#a6e22e">interval&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">let&lt;/span> &lt;span style="color:#a6e22e">timer&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">gapTime&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">interval&lt;/span> &lt;span style="color:#f92672">||&lt;/span> &lt;span style="color:#ae81ff">800&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">//间隔时间
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">function&lt;/span> () {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">clearTimeout&lt;/span>(&lt;span style="color:#a6e22e">timer&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">context&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">args&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">arguments&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">timer&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">setTimeout&lt;/span>(&lt;span style="color:#66d9ef">function&lt;/span> () {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">fn&lt;/span>.&lt;span style="color:#a6e22e">call&lt;/span>(&lt;span style="color:#a6e22e">context&lt;/span>, &lt;span style="color:#a6e22e">args&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }, &lt;span style="color:#a6e22e">gapTime&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> };}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>HTML结构：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-html" data-lang="html">&lt;span style="display:flex;">&lt;span>&amp;lt;&lt;span style="color:#f92672">view&lt;/span> &lt;span style="color:#a6e22e">class&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;video-list&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">wx:for&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{videoData}}&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">wx:for-item&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;item&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">wx:for-index&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;key&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">wx:key&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;key&amp;#34;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;lt;&lt;span style="color:#f92672">video&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">class&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;video&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">src&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{item.videoUrl}}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">enable-play-gesture&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{true}}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">show-play-btn&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{true}}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">show-center-play-btn&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{true}}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">bindpause&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;videoPause&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">autoplay&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{key===0?true:false}}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">bindplay&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;videoPlay&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">bindended&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;videoEnd&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">id&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;video_{{key}}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">view&lt;/span> &lt;span style="color:#a6e22e">wx:if&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{cover_msg[key]}}&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">class&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;msg-time-number&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">id&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;cover&amp;#39;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {{item.weight}}万播放
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;/&lt;span style="color:#f92672">view&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;/&lt;span style="color:#f92672">video&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;lt;/&lt;span style="color:#f92672">view&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>总结：&lt;/p>
&lt;p>一开始的时候我是判断下滑超出视频窗口就直接切换到下一个播放，但是这样做如果滚动过快会发生视频的抖动，可能会多个视频一起播放，所以换成这样的方式处理会更好一点。&lt;/p>
&lt;p>&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-分割线&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&lt;/p>
&lt;p>上一版的video还是有很些用户体验不是很好的操作，&lt;/p>
&lt;p>在这前我们是通过判断视频是否消失于视窗口以后在去重新捕获页面中间的视频，然后播放，这就导致有可能一个播放的视频此时其实在视窗口的最下方只出现一点，但是条件判断此时视频没有消失，这给用户的体验是非常不好的，于是重新做了一下滚动那部分的判断，我们直接监听滚动是上滑还是下滑：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-js" data-lang="js">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#a6e22e">e&lt;/span>[&lt;span style="color:#ae81ff">0&lt;/span>].&lt;span style="color:#a6e22e">scrollTop&lt;/span> &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#a6e22e">scrollTopTo&lt;/span> &lt;span style="color:#f92672">||&lt;/span> &lt;span style="color:#a6e22e">e&lt;/span>[&lt;span style="color:#ae81ff">0&lt;/span>].&lt;span style="color:#a6e22e">scrollTop&lt;/span> &lt;span style="color:#f92672">&amp;gt;=&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">scrollHeight&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 判断时下滑时的操作。
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#75715e">// for (let i = 0; i &amp;lt; this.data.testvideo.length; i++) {
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">let&lt;/span> &lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; &lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">videoLength&lt;/span>; &lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#a6e22e">midWindow&lt;/span> &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">videoAllTop&lt;/span>[&lt;span style="color:#a6e22e">i&lt;/span>] &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#a6e22e">midWindow&lt;/span> &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">videoAllTop&lt;/span>[&lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">!==&lt;/span> &lt;span style="color:#a6e22e">index&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">//如果滑动的距离超过一定距离，暂停该视频同时把滑动的距离加上一半视窗的距离算出大概此时滑动到哪个video下然后播放这个video
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#75715e">// const videoContextPlay = wx.createVideoContext(`${this.data.indexCurrent}`, this);
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#a6e22e">videoContextPlay&lt;/span>.&lt;span style="color:#a6e22e">pause&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">videoContextNextPlay&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">wx&lt;/span>.&lt;span style="color:#a6e22e">createVideoContext&lt;/span>(&lt;span style="color:#e6db74">`video_&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">`&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">videoContextNextPlay&lt;/span>.&lt;span style="color:#a6e22e">play&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">coverViewIndex&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;cover_view[&amp;#39;&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#a6e22e">index&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#e6db74">&amp;#39;]&amp;#39;&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">coverViewI&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;cover_view[&amp;#39;&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#e6db74">&amp;#39;]&amp;#39;&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">setData&lt;/span>({
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [&lt;span style="color:#a6e22e">coverViewIndex&lt;/span>]&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">true&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [&lt;span style="color:#a6e22e">coverViewI&lt;/span>]&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">false&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">indexCurrent&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#e6db74">`video_&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> });
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#a6e22e">e&lt;/span>[&lt;span style="color:#ae81ff">0&lt;/span>].&lt;span style="color:#a6e22e">scrollTop&lt;/span> &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#a6e22e">scrollTopTo&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 上滑超出，重新计算新的需要播放的视频
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#75715e">// for (let i = 0; i &amp;lt; this.data.testvideo.length; i++) {
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">let&lt;/span> &lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; &lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">videoLength&lt;/span>; &lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#a6e22e">midWindow&lt;/span> &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">videoAllTop&lt;/span>[&lt;span style="color:#a6e22e">i&lt;/span>] &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#a6e22e">midWindow&lt;/span> &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">videoAllTop&lt;/span>[&lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">!==&lt;/span> &lt;span style="color:#a6e22e">index&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">videoContextPlay&lt;/span>.&lt;span style="color:#a6e22e">pause&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">videoContextNextPlay&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">wx&lt;/span>.&lt;span style="color:#a6e22e">createVideoContext&lt;/span>(&lt;span style="color:#e6db74">`video_&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">`&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">videoContextNextPlay&lt;/span>.&lt;span style="color:#a6e22e">play&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">coverViewIndex&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;cover_view[&amp;#39;&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#a6e22e">index&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#e6db74">&amp;#39;]&amp;#39;&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">coverViewI&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;cover_view[&amp;#39;&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#a6e22e">i&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#e6db74">&amp;#39;]&amp;#39;&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">setData&lt;/span>({
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [&lt;span style="color:#a6e22e">coverViewIndex&lt;/span>]&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">true&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [&lt;span style="color:#a6e22e">coverViewI&lt;/span>]&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">false&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">indexCurrent&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#e6db74">`video_&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> });
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>scrollTopTo是我们用来记录上一次滚动的距离然后这次滚动的距离做比较来判断是上滑还是下滑，来控制元素的播放。此时再用上之前的防抖就能很好的控制滑动播放窗口之前的视频。但是此时出现了另外一个意向之外的bug，当我点击视频列表中的第二个视频的全屏按钮时，这个视频会突然终止，然后出现第一个视频的声音，经过多次排查后发现是当我们点击放大按钮的时候，是会触发onPageScroll的这个时间，也就是滚动事件，经过打印日志发现，不管你点击哪个视频的全屏按钮都是会触发滚动事件，并且滚动距离为 e[0].scrollTop===0 也就是滚动到最顶部，之前是做了一个滚动到最顶部最上面的时候是播放第一个视频的操作，所以导致就会出现刚在说的无论点击哪个视频的全屏都会触发第一个视频的播放，然后我们就能听到第一个视频播放声音而当前视频暂停。&lt;/p>
&lt;p>因此我在滚动哪里做了一层判断：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-js" data-lang="js">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#a6e22e">e&lt;/span>[&lt;span style="color:#ae81ff">0&lt;/span>].&lt;span style="color:#a6e22e">scrollTop&lt;/span> &lt;span style="color:#f92672">===&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">scrollTop&lt;/span> &lt;span style="color:#f92672">!==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 点击全屏时iphone端会触发一次滚动时间且e[0].scrollTop为0，所以我们这里需要做一层判断
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> }
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>滚动为0的时候不让他触发事件。&lt;/p>
&lt;p>最后是做了一个优化播放视频出错时的状态：就是给视频加了一个蒙层当没有网络或这播放出错时展现的状态：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-html" data-lang="html">&lt;span style="display:flex;">&lt;span>&amp;lt;&lt;span style="color:#f92672">video&lt;/span> &lt;span style="color:#a6e22e">class&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;video&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">src&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{videoUrl[key]}}&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">play-btn-position&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;bottom&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">show-play-btn&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{true}}&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">controls&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{!cover_view[key]&amp;amp;&amp;amp;!errorImg[key]}}&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">show-center-play-btn&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{false}}&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">bindpause&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;videoPause&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">autoplay&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{key===0?true:false}}&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">poster&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{item.videoCover}}&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">bindplay&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;videoPlay&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">bindended&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;videoEnd&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">bindloadedmetadata&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;loadedmetadata&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">id&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;video_{{key}}&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">picture-in-picture-show-progress&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{true}}&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">bindwaiting&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;bindWaiting&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">binderror&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;bindError&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">bindfullscreenchange&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;fullscreenchange&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">objectFit&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;fill&amp;#34;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;lt;&lt;span style="color:#f92672">view&lt;/span> &lt;span style="color:#a6e22e">wx:if&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{errorImg[key]}}&amp;#34;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;lt;&lt;span style="color:#f92672">view&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">view&lt;/span> &lt;span style="color:#a6e22e">class&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;error-test&amp;#34;&lt;/span>&amp;gt;网络异常，请检查网络&amp;lt;/&lt;span style="color:#f92672">view&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">view&lt;/span> &lt;span style="color:#a6e22e">bindtap&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;bindRefresh&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">class&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;error-btn&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">data-id&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{key}}&amp;#34;&lt;/span>&amp;gt;重新加载&amp;lt;/&lt;span style="color:#f92672">view&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;/&lt;span style="color:#f92672">view&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">&amp;lt;!-- --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;/&lt;span style="color:#f92672">view&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;lt;/&lt;span style="color:#f92672">video&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-js" data-lang="js">&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">bindError&lt;/span>(&lt;span style="color:#a6e22e">e&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// console.log(&amp;#34;视频播放错误&amp;#34;);
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">errorKey&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;errorImg[&amp;#39;&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#a6e22e">e&lt;/span>.&lt;span style="color:#a6e22e">target&lt;/span>.&lt;span style="color:#a6e22e">id&lt;/span>.&lt;span style="color:#a6e22e">split&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;_&amp;#39;&lt;/span>)[&lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#e6db74">&amp;#39;]&amp;#39;&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// console.log(this.data.errorImg);
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">setData&lt;/span>({
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [&lt;span style="color:#a6e22e">errorKey&lt;/span>]&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> });
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> },
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>点击重新加载，重置一下src:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-js" data-lang="js">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">bindRefresh&lt;/span>(&lt;span style="color:#a6e22e">e&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">videoUrl&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;videoUrl[&amp;#39;&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#a6e22e">e&lt;/span>.&lt;span style="color:#a6e22e">target&lt;/span>.&lt;span style="color:#a6e22e">dataset&lt;/span>.&lt;span style="color:#a6e22e">id&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#e6db74">&amp;#39;]&amp;#39;&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">setData&lt;/span>({
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [&lt;span style="color:#a6e22e">videoUrl&lt;/span>]&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>.&lt;span style="color:#a6e22e">videoUrl&lt;/span>[&lt;span style="color:#a6e22e">e&lt;/span>.&lt;span style="color:#a6e22e">target&lt;/span>.&lt;span style="color:#a6e22e">dataset&lt;/span>.&lt;span style="color:#a6e22e">id&lt;/span>],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> });
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">//这里重新set一下src的数据
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> },
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>结束&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&lt;/p></description></item><item><title>由前端网络安全到http，https和浏览器的存储（个人笔记）</title><link>https://woshidashuaibi-lsj.github.io/blog/riji-liulanqi-anquan/</link><pubDate>Wed, 17 Jun 2020 00:00:00 +0000</pubDate><guid>https://woshidashuaibi-lsj.github.io/blog/riji-liulanqi-anquan/</guid><description>&lt;p>常见的web攻击方式&lt;/p>
&lt;p>-XSS&lt;/p>
&lt;ul>
&lt;li>CSRF&lt;/li>
&lt;li>点击劫持&lt;/li>
&lt;li>SQL注入&lt;/li>
&lt;li>OS注入&lt;/li>
&lt;li>请求劫持&lt;/li>
&lt;li>DDOS
XSS
参考：https://juejin.im/post/6844903685122703367#heading-18&lt;/li>
&lt;/ul>
&lt;p>Cross-Site scripting 跨站脚本攻击，因为和css同名所以改成xss。&lt;/p>
&lt;p>就比如一个掘金写文章的页面，假设掘金没有做xss攻击的脚本，我在我的文章里面写了&lt;!-- raw HTML omitted -->alert(&amp;ldquo;攻击&amp;rdquo;)&lt;!-- raw HTML omitted -->，那么当用户点开我的文章的时候就会有个alert提醒。过分一点，就用一个while循环无线重复alert。也有可能写上一些js代码获取用户的cookie,来帮助黑客恶意操作网站。&lt;/p>
&lt;p>这是存储型的xss攻击。主要运用再存储到数据库这种的网站进行攻击。&lt;/p>
&lt;p>还有一个反射型的xss攻击，&lt;/p>
&lt;p>&amp;lt;input type=&amp;ldquo;text&amp;rdquo; value=&amp;quot;&amp;lt;%= getParameter(&amp;ldquo;keyword&amp;rdquo;) %&amp;gt;&amp;quot;&amp;gt;
&lt;!-- raw HTML omitted -->搜索&lt;!-- raw HTML omitted -->&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->alert(&amp;lsquo;XSS&amp;rsquo;);&lt;!-- raw HTML omitted -->&amp;quot;&amp;gt;
&lt;!-- raw HTML omitted -->搜索&lt;!-- raw HTML omitted -->&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>反射性的xss攻击是在url上操作的，如网站搜索、跳转等&lt;/p>
&lt;p>DOM 型 XSS 的攻击步骤：&lt;/p>
&lt;p>攻击者构造出特殊的 URL，其中包含恶意代码。
用户打开带有恶意代码的 URL。
用户浏览器接收到响应后解析执行，前端 JavaScript 取出 URL 中的恶意代码并执行。
恶意代码窃取用户数据并发送到攻击者的网站，或者冒充用户的行为，调用目标网站接口执行攻击者指定的操作。
DOM 型 XSS 跟前两种 XSS 的区别：DOM 型 XSS 攻击中，取出和执行恶意代码由浏览器端完成，属于前端 JavaScript 自身的安全漏洞，而其他两种 XSS 都属于服务端的安全漏洞。&lt;/p>
&lt;p>XSS 的本质是：恶意代码未经过滤，与网站正常的代码混在一起；浏览器无法分辨哪些脚本是可信的，导致恶意脚本被执行。&lt;/p>
&lt;p>课外知识热点：&lt;/p>
&lt;p>曾经在猫扑大杂烩中存在这样一个XSS漏洞，在用户发表回复的时候，程序对用户发表的内容做了严格的过滤，但是我不知道为什么，当用户编辑回复内容再次发表的时候，他却采用了另外一种不同的过滤方式，而这种过滤方式显然是不严密的，因此导致了XSS漏洞的出现。试想一下，像猫扑这样的大型社区，如果在一篇热帖中，利用XSS漏洞来使所有的浏览这篇帖子的用户都在不知不觉之中访问到了另外一个站点，如果这个站点同样是大型站点还好，但如果是中小型站点那就悲剧了，这将会引来多大的流量啊！更可怕的是，这些流量全部都是真实有效的！&lt;/p>
&lt;p>解决方案：
对一些特殊的符号进行转义什么的，比如&amp;lt; &amp;gt; 什么的，&lt;/p>
&lt;p>最好的办法就是配置白名单和黑名单。&lt;/p>
&lt;p>CSRF
参考：https://www.bilibili.com/video/BV1iW411171s?from=search&amp;amp;seid=6829106872112135941&lt;/p>
&lt;p>(Cross Site Request Forgery) 跨站请求伪造。
攻击者盗用你的身份，以你的名义去发送一些恶意请求。&lt;/p>
&lt;p>比如你登陆进一个页面，然后进入转账页面&lt;/p>
&lt;p>此时页面时保留了你的登录信息的，你没有关闭此页面，而是进入到一个黑客网站。如下网站的源代码，他的图片的路劲就是你转账的路劲。所以此时你的账户会被转账。&lt;/p>
&lt;p>解决办法将get请求改成post请求这样就不能看到你的路径了&lt;/p>
&lt;p>但是黑客同样有办法：通过表单from来提交接口&lt;/p>
&lt;ol>
&lt;li>
&lt;p>解决方法加入一个验证码，因为他只是构造了一个请求，不能操作我们的也页面。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>验证Refer 即同源策略，不是同域名同端口同协议的拒绝请求。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在form表单或头信息中传递token,token存储在服务端，服务端通过拦截器验证有效性，检验失败的拒绝请求。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>点击劫持
点击劫持是一种视觉欺骗的攻击手段,攻击者将需要攻击的网站通过iframe嵌套的方式嵌入自己的网页， 应将iframe设置为透明，在页面中透出一个按钮诱导用户点击。就比如电影天堂的网站，当我随便点击一个电影。&lt;/p>
&lt;p>结果就进入了一个其他页面（还挺想玩一玩的TvT）。&lt;/p>
&lt;p>这就是典型的点击劫持。页面使用 iframe 元素，将 iframe 透明化。就是吧这个跳转透明化。&lt;/p>
&lt;p>解决办法：&lt;/p>
&lt;ol>
&lt;li>X-FRAME-OPTIONS 是一个HTTP响应头，就是为了防御iframe嵌套的点击劫持攻击
DENY 页面不允许通过iframe方式展示
SAPMEORIGIN 页面可以相同域名下通过iframe方式展示
ALLOW-FROM 页面可以在指定来源的iframe中展示
SQL注入
sql注入是黑客通过当你输入密码的时候判断你的密码是否和我数据课里面的密码是否相同，黑客通过1&amp;rsquo;or'1&amp;rsquo;=&amp;lsquo;1你前面的密码可能不是相同的但是后面的1=1返回的时true,所以系统会判断你的密码时正确的。&lt;/li>
&lt;/ol>
&lt;p>解决方法:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>所有的查询语句建议使用数据库提供的参数化查询接口，参数化的语句使用参数而不是将用户输入的变量嵌套到SQL语句中&lt;/p>
&lt;/li>
&lt;li>
&lt;p>对进入数据库的特殊字符(&amp;rsquo;,&amp;quot;,,&amp;lt;,&amp;gt;,&amp;amp;)等进行转义
OS注入
和sql注入差不多的原理，不过它是针对操作系统的，通过shell偷偷开启你的终端，操作你的电脑。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>解决方法：同sql解决方法&lt;/p>
&lt;p>请求劫持
DNS劫持：DNS服务器（DNS解析各个步骤）被纂改，修改域名解析的结果，使得访问到的不是预期的ip。&lt;/p>
&lt;p>http劫持: 运营商劫持。升级为https&lt;/p>
&lt;p>DDOS
distributed denial of service（分布式拒绝服务）
DDOS不是一个攻击的名称而是指一群攻击的合称。举个例子一个餐厅一次只能容纳300人一起吃饭，但是黑客一次叫3000个人去餐厅吃饭，餐厅根本容不下这么多人，于是就瘫痪了。DDOS就是这样的原理操作了，我同时叫100个ip地址同时发送请求，你的网站承受不了如此大的点击量。&lt;/p>
&lt;p>解决方案&lt;/p>
&lt;p>1.备用一个网站（全静态的网站）。如果瘫痪了先暂时上这个网站。&lt;/p>
&lt;p>2。http请求拦截，如果同一个ip一直恶意请求，就直接把这个ip给封了。&lt;/p>
&lt;p>3.有也那种IP你根本找不到的，那就可以带宽扩容，简单点就是你的饭店原来只能300人，现在我装修3000人也能坐的下，但是成本大，就给服务器怎加容量，这种看不到ip的攻击，黑客的成本也大。&lt;/p>
&lt;p>以上就是前端常见的面试常问的网络安全放面的考点。上面也简单的说到过get 和post,http和https。下面我就顺带着一起讲一下，因为他们也是常考点。&lt;/p>
&lt;p>get和post的区别
先从原理上来了解get和post,先将两个知识点，幂等和副作用。&lt;/p>
&lt;p>副作用: 服务器上的资源是否改变。比如搜索服务器上的资源资源没有改动，是无副作用的。注册账号，资源改动是，副作用的。&lt;/p>
&lt;p>幂等：指的是发送M 和 N 次请求(M N 不相等且都大于1)，服务器上的资源状态是否改变。比如对文章修改10次和11次是幂等的。而注册10次和注册11次是一样的，是不幂等的。&lt;/p>
&lt;p>get一般用于无副作用幂等的。即资源和它的状态都不改动。&lt;/p>
&lt;p>post一般用于副作用不幂等的。即资源和它的状态都改动了。&lt;/p>
&lt;p>先前上面也提到过，get请求的参数会被携带在url里面，很容易被人利用，而post不会，所以post比get更加安全一点。
post支持更多的编码类型，且不被数据类型所限制。
get请求能缓存，post不能
http和https
http 是基于TCP/IP来传送超文本数据的。&lt;/p>
&lt;p>https是基于http的基础上加了一个TLS协议。&lt;/p>
&lt;p>TLS是使用了两种加密方式：&lt;/p>
&lt;p>对称加密和非对称加密&lt;/p>
&lt;p>对称加密：是指双方都有相同的密钥，双方用同一套加密规则加密，然后解密。&lt;/p>
&lt;p>非对称加密：是我向大众宣布我的数据加密方法，然后解密方法只在我这里。&lt;/p>
&lt;p>一般TLS加密是两种方法合并使用，我先用非对称加密，向大众发布我的加密方式，然后别人用这种加密方式，加密它的密钥给我，然后我就有了它的密钥，然后我们有了相同的密钥，这时候就用对称加密。&lt;/p>
&lt;hr>
&lt;p>更新：看了一些大佬的文章，感觉自己http和https还是没有悟到，在整理整理这里。&lt;/p>
&lt;p>TLS是传输层加密协议，前身是SSL协议，由网景公司1995年发布，有时候两者不区分&lt;/p>
&lt;p>http协议以明文的方式发送传输数据，不提供任何加密方式，所以就很有可能被人窃取数据，并且读懂数据内容，所以http不能用来传输一些很重要的信息，比如密码什么的。&lt;/p>
&lt;p>https协议则是以http为基础来传输数据，不过在这上面加了一层SSL协议，用来加密传输的数据。&lt;/p>
&lt;p>https协议使用的是443端口，http是80端口。&lt;/p>
&lt;p>https工作原理：&lt;/p>
&lt;p>https协议是需要申请证书的，这个证书就是一对私钥和密钥。客户端会检查对方的证书是否安全，不安全就会弹出证书安全的警告，如果安全就会用它的公钥对你私钥也就是一段随机值进行加密，发送给服务端，服务端和客户端就可以进行上面提到的对称加密了。&lt;/p>
&lt;hr>
&lt;p>HTTP1.0，HTTP1.1，HTTP2.0
http1.0
特性：无状态，无连接的&lt;/p>
&lt;p>无状态是指每次都无法保留用户的登陆记录和状态等等，只能通过cookie session来保存（服务器不跟踪不记录请求过的状态）&lt;/p>
&lt;p>无连接是指每次发送请求都需要tcp三次握手，效率很低，并且在前一个请求响应到达之前才能发送下一个请求，如果前面的阻塞的话后面的都会被阻塞。&lt;/p>
&lt;p>http1.1
为了解决http1.0的问题，http1.1新增了一些新特性：长连接，管道化，缓存处理，断点传输。&lt;/p>
&lt;p>长连接：数据传输完毕不关闭tcp连接，继续用这个通道传输数据。&lt;/p>
&lt;p>管道化：没有管道化和长连接时，我们时 请求一=》响应一 请求二 =》响应二 请求三 =》 响应三。有管道化和长连接以后，我们 请求一 =》请求二=》请求三 =》响应一=》 响应二=》 响应三 管道化就不需要等到上一个请求响应之后才发第二个请求，但是即使你的请求二比请求一先完成但是响应依旧要按照顺序响应。&lt;/p>
&lt;p>缓存处理：第一次请求到的一些数据放到缓存中，这样下次请求的时候就可以从本地缓存中拿。&lt;/p>
&lt;p>http2.0
二进制分帧
多路复用： 在共享TCP链接的基础上同时发送请求和响应
头部压缩
服务器推送：服务器可以额外的向客户端推送资源，而无需客户端明确的请求
二进制分帧:&lt;/p>
&lt;p>将所有传输的信息分割为更小的消息和帧,并对它们采用二进制格式的编码&lt;/p>
&lt;p>多路复用:&lt;/p>
&lt;p>基于二进制分帧，在同一域名下所有访问都是从同一个tcp连接中走，http消息被分解为独立的帧，乱序发送，服务端根据标识符和首部将消息重新组装起来&lt;/p>
&lt;p>区别：&lt;/p>
&lt;p>http1.0 到http1.1的主要区别，就是从无连接到长连接
http2.0对比1.X版本主要区别就是多路复用
最后：
有时间再把cookie,token哪几种存储方式一起加到这里吧。&lt;/p></description></item><item><title>浏览器端面试四大问：浏览器的缓存，浏览器渲染原理，存储，跨域（个人笔记）</title><link>https://woshidashuaibi-lsj.github.io/blog/riji-liulanqi/</link><pubDate>Thu, 11 Jun 2020 00:00:00 +0000</pubDate><guid>https://woshidashuaibi-lsj.github.io/blog/riji-liulanqi/</guid><description>&lt;p>浏览器的缓存&lt;/p>
&lt;p>&lt;a href="https://www.cnblogs.com/lyzg/p/5125934.html">https://www.cnblogs.com/lyzg/p/5125934.html&lt;/a>&lt;/p>
&lt;p>浏览器的缓存，缓存的一般是一些内存比较小的静态的资源。缓存的主要位置是:&lt;/p>
&lt;p>Service Work&lt;/p>
&lt;p>Memory Cache:浏览器自带，内存较小，速度较快&lt;/p>
&lt;p>Disk Cache：存在本地，内存较大，加载速度较慢&lt;/p>
&lt;p>Push Cache
缓存策略：&lt;/p>
&lt;p>主要分为两种强缓存和协商缓存&lt;/p>
&lt;p>强缓存
强缓存是利用Expires 或 cache control 这两个http response header 实现；&lt;/p>
&lt;p>强缓存是浏览器现在缓存中查找是否有该资源。命中时状态码为200&lt;/p>
&lt;p>Expires:是老浏览器使用的，是一串带有固定时间的字符。他表示的是这个资源缓存的过期时间。&lt;/p>
&lt;p>它的工作原理是：&lt;/p>
&lt;p>在浏览器第一次向服务器请求资源时，服务器会给浏览器返回资源和带有response的Expires的header。服务器会把资源存在缓存中，当浏览器第二次请求时，它会在缓存中查找是否有这个资源，如果有的话，就把exprice和当前的时间作比较，如果时间过了则未命中去服务器请求资源。命中则从缓存中获取资源。&lt;/p>
&lt;p>它的缺点：因为它是和本地时间作比较的，当你的本地时间不准时它很有可能有误差。所以为了解决这个问题就有了cache control;&lt;/p>
&lt;p>cache control: 是一串数字，以秒为单位，代表的是过多久时间过期。&lt;/p>
&lt;p>它的工作原理是：&lt;/p>
&lt;p>在浏览器第一次向服务器请求资源时，服务器会给浏览器返回资源和带有response的cache control的header。服务器会把资源存在缓存中，当浏览器第二次请求时，它会在缓存中查找是否有这个资源，如果有的话，他会根据第一次请求的时间和cache control的时间计算一个资源过期时间，然后拿过期时间和当前请求的时间做对比，如果时间过了则未命中去服务器请求资源。命中则从缓存中获取资源。&lt;/p>
&lt;p>它的性能比Expires更好一点，两个可以同时启动也可以只启用一个，如果都启用的话优先cache control。&lt;/p>
&lt;p>协商缓存
协商缓存主要是利用http respense header中的ETge和Lastmodified这两组。&lt;/p>
&lt;p>协商缓存是在强缓存未命中的情况下，服务器向浏览器发送请求验证协商缓存是否命中。命中时状态码为304。&lt;/p>
&lt;p>Lastmodified:
是一串时间字符：代表的是缓存过期的时间&lt;/p>
&lt;p>浏览器在第一次向服务器端请求资源时候，服务器端会向浏览器端返回资源和response的header上lastmodified，这个lastmodified表示这个资源在服务器上的最后修改时间。再次向服务端请求资源时，服务端就会返回加上If-Modified-Since的header,他表示的就是上一次请求时返回的Last-Modified的值。根据浏览器传过来If-Modified-Since和资源在服务器上的最后修改时间判断资源是否有变化，来判断是否命中。命中就返回304状态码，同时让浏览器去缓存中拿资源。未命中则就从服务端获取资源。&lt;/p>
&lt;p>缺点:当你在浏览器端打开缓存文件时，就是你没有修改文件，浏览器也会判定你修改了资源，这样就会导致协商缓存的判断有误。为了解决这个问题，于是又有了ETag来判断协商缓存。&lt;/p>
&lt;p>ETag;
是一段特殊的字符，唯一标识的字符串。&lt;/p>
&lt;p>浏览器在第一次向服务器端请求资源时候，服务器端会向浏览器端返回资源和response的header上ETag，一段唯一辨识的字符串，再次请求时也会返回一段ETag，如果资源修改则返回的ETag是不一样的，所以通过判断两者是否相同，来判断资源是否修改，来判断是否命中缓存。&lt;/p>
&lt;p>一般浏览器两种协商缓存的方式都会存在，防止Lastmodified的不稳定。&lt;/p>
&lt;p>一般协商缓存都是配合着强缓存，如果没有强缓存，协商缓存就没有什么意义。协商缓存主要是为了帮助强缓存判断资源是否更新。&lt;/p>
&lt;p>浏览器渲染原理
&lt;a href="https://www.cnblogs.com/gwf93/p/10717281.html">https://www.cnblogs.com/gwf93/p/10717281.html&lt;/a>&lt;/p>
&lt;p>浏览器的渲染主要是5个阶段；&lt;/p>
&lt;ol>
&lt;li>浏览器读取html文件生成DOM树，他先将代码生成指令，这个过程叫做指令化，然后再指令化后，将这些指令生成node节点，这些node节点之间的关系就作为脐带，将这些节点串成一棵DOM树。&lt;/li>
&lt;/ol>
&lt;p>2.浏览器读取css文件，将css代码生成cssom。&lt;/p>
&lt;p>3.合并DOM树和cssom，生成渲染树。这个过程浏览器递归每个node节点，并给节点一个样式规则并使用。这一步需要注意，display:none并不会出现再渲染树中，它会出现在第一步的DOM树中，里面还会出现注释和script标签。&lt;/p>
&lt;p>4.渲染树布局 它会帮我们输出布置每个节点的出现的位置和大小等，就再浏览器端的位置，布置成一个一个的盒模型&lt;/p>
&lt;ol start="5">
&lt;li>渲染树绘制 它会将那些盒模型绘制上它的样式，色彩图片等等&lt;/li>
&lt;/ol>
&lt;p>考点1： 为什么操作 DOM 慢？&lt;/p>
&lt;ol>
&lt;li>
&lt;p>因为操作DOM用到了两条线程，js的引擎线程和渲染线程，js是单线程执行的，所以两天线程需要通信才能一起执行，这样会大大增加性能消耗。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>操作DOM会引起回流和重绘。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>考点2：同时加入10万条dom,如何实现不卡顿。
1.分页处理。&lt;/p>
&lt;p>2.使用requestAnimationFrame来处理，每过16.6秒循环插入dom.&lt;/p>
&lt;p>3.使用虚拟DOM,只加载可视区域的dom,加载更多的时候，用虚拟DOM去替换，https://bvaughn.github.io/react-virtualized/#/components/List&lt;/p>
&lt;p>考点3：优化，减少阻塞&lt;/p>
&lt;ol>
&lt;li>减少选择器的使用，这样能减少DOM遍历的层级，降低渲染的文件的大小&lt;/li>
&lt;/ol>
&lt;p>2.script标签会阻塞渲染进程，所以我们的script代码应该写在html文件的下面。&lt;/p>
&lt;p>3.没有任何依赖的js文件我们可以加上asyac属性，这样就不会影响渲染的进度。&lt;/p>
&lt;p>考点4：重绘和回流
重绘不改变布局，只改变一些颜色什么的&lt;/p>
&lt;p>回流会改变布局。&lt;/p>
&lt;p>回流一定会引发重绘。&lt;/p>
&lt;p>浏览器的存储
&lt;a href="https://juejin.im/post/6844903812092674061#heading-2">https://juejin.im/post/6844903812092674061#heading-2&lt;/a>&lt;/p>
&lt;p>Cookie,LocalStorage,sessionStorage,IndexedDB
Cookie
浏览器是无状态的，他无法记住浏览器上一步做的是什么，所以很多功能无法实现，比如购物车，所以浏览器创建cookie来使用，用于保存用户的状态，在购物东西时cookie就好像一辆购物车，用来保存用户选购的商品信息，它在浏览器和服务器之间来回传输信息。&lt;/p>
&lt;p>Cookie指某些网站为了辨别用户身份而储存在用户本地终端上的数据(通常经过加密)。 cookie是服务端生成，客户端进行维护和存储。通过保存用户的信息，来保存登录状态，登录还刷新还能回到原来的状态。可以保存一段时间。&lt;/p>
&lt;p>缺点：内存较小一般就几k大小，所以只能保存用户信息不能保存大文件内容。&lt;/p>
&lt;p>cookie过多可能会带来过的性能消耗。&lt;/p>
&lt;p>cookie还存在一定的安全性。&lt;/p>
&lt;p>LocalStorage
内存较大有5M左右，除非被清除否则永久保存，接口容易封装，仅在浏览器中保存，不参与通信&lt;/p>
&lt;p>sessionStorage
内存较大有5M左右，关闭页面就消失，接口容易封装，仅在浏览器中保存，不参与通信&lt;/p>
&lt;p>IndexedDB
内存无线，永久保存。&lt;/p>
&lt;p>跨域
数据的请求都要遵循同源策略，既需要同域名，同端口，同协议。所以违反了这个规则则就算跨域了。&lt;/p>
&lt;p>解决跨域的四个方法：&lt;/p>
&lt;p>From表单能够帮我们跨域请求信息。疯狂发送请求&lt;/p>
&lt;p>jsonp 利用&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->的没有跨域限制请求&lt;/p>
&lt;p>cors 后端设置允许跨域，或者搞个白名单，允许那些能跨域请求&lt;/p>
&lt;p>nginx 代理
最后：
有时间再整理跨域和存储。&lt;/p></description></item><item><title>Videos</title><link>https://woshidashuaibi-lsj.github.io/blog/videos/</link><pubDate>Wed, 25 Dec 2013 00:19:15 +0000</pubDate><guid>https://woshidashuaibi-lsj.github.io/blog/videos/</guid><description>&lt;p>This is a video test post.&lt;/p>
&lt;h2 id="youtube-privacy-enhanced-shortcode">YouTube Privacy Enhanced Shortcode&lt;/h2>
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
&lt;iframe src="https://www.youtube.com/embed/ZJthWmvUzzc" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video">&lt;/iframe>
&lt;/div>
&lt;!-- raw HTML omitted -->
&lt;hr>
&lt;h2 id="twitter-simple-shortcode">Twitter Simple Shortcode&lt;/h2>
&lt;blockquote class="twitter-tweet">&lt;p lang="en" dir="ltr">Owl bet you&amp;#39;ll lose this staring contest 🦉 &lt;a href="https://t.co/eJh4f2zncC">pic.twitter.com/eJh4f2zncC&lt;/a>&lt;/p>&amp;mdash; San Diego Zoo Wildlife Alliance (@sandiegozoo) &lt;a href="https://twitter.com/sandiegozoo/status/1453110110599868418?ref_src=twsrc%5Etfw">October 26, 2021&lt;/a>&lt;/blockquote>
&lt;script async src="https://platform.twitter.com/widgets.js" charset="utf-8">&lt;/script>
&lt;!-- raw HTML omitted -->
&lt;hr>
&lt;h2 id="vimeo-simple-shortcode">Vimeo Simple Shortcode&lt;/h2>
&lt;style>
.__h_video {
position: relative;
padding-bottom: 56.23%;
height: 0;
overflow: hidden;
width: 100%;
background: #000;
}
.__h_video img {
width: 100%;
height: auto;
color: #000;
}
.__h_video .play {
height: 72px;
width: 72px;
left: 50%;
top: 50%;
margin-left: -36px;
margin-top: -36px;
position: absolute;
cursor: pointer;
}
&lt;/style>&lt;div class="s_video_simple __h_video">
&lt;a href="https://vimeo.com/4.8912912e&amp;#43;07" rel="noopener" target="_blank">
&lt;img src="https://i.vimeocdn.com/video/337401969-979f0cc9f55fdf305fb8984e90d92639ec9d7ecc4c9dfbc6536e28edb43784ce-d_640" srcset="https://i.vimeocdn.com/video/337401969-979f0cc9f55fdf305fb8984e90d92639ec9d7ecc4c9dfbc6536e28edb43784ce-d_640 1x, https://i.vimeocdn.com/video/337401969-979f0cc9f55fdf305fb8984e90d92639ec9d7ecc4c9dfbc6536e28edb43784ce-d_640 2x" alt="Sing Jan Swing - Kinetic Type">
&lt;div class="play">
&lt;svg version="1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 61 61">&lt;circle cx="30.5" cy="30.5" r="30.5" opacity=".8" fill="#000">&lt;/circle>&lt;path d="M25.3 19.2c-2.1-1.2-3.8-.2-3.8 2.2v18.1c0 2.4 1.7 3.4 3.8 2.2l16.6-9.1c2.1-1.2 2.1-3.2 0-4.4l-16.6-9z" fill="#fff">&lt;/path>&lt;/svg>
&lt;/div>
&lt;/a>
&lt;/div></description></item><item><title>Videos</title><link>https://woshidashuaibi-lsj.github.io/blog/zh/videos/</link><pubDate>Wed, 25 Dec 2013 00:19:15 +0000</pubDate><guid>https://woshidashuaibi-lsj.github.io/blog/zh/videos/</guid><description>&lt;p>测试视频&lt;/p>
&lt;h2 id="youtube-视频测试">YouTube 视频测试&lt;/h2>
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
&lt;iframe src="https://www.youtube.com/embed/l6VJnrkcjWA" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video">&lt;/iframe>
&lt;/div>
&lt;!-- raw HTML omitted -->
&lt;hr>
&lt;h2 id="twitter-simple-shortcode">Twitter Simple Shortcode&lt;/h2>
&lt;blockquote class="twitter-tweet">&lt;p lang="en" dir="ltr">Owl bet you&amp;#39;ll lose this staring contest 🦉 &lt;a href="https://t.co/eJh4f2zncC">pic.twitter.com/eJh4f2zncC&lt;/a>&lt;/p>&amp;mdash; San Diego Zoo Wildlife Alliance (@sandiegozoo) &lt;a href="https://twitter.com/sandiegozoo/status/1453110110599868418?ref_src=twsrc%5Etfw">October 26, 2021&lt;/a>&lt;/blockquote>
&lt;script async src="https://platform.twitter.com/widgets.js" charset="utf-8">&lt;/script>
&lt;!-- raw HTML omitted -->
&lt;hr>
&lt;h2 id="vimeo-simple-shortcode">Vimeo Simple Shortcode&lt;/h2>
&lt;style>
.__h_video {
position: relative;
padding-bottom: 56.23%;
height: 0;
overflow: hidden;
width: 100%;
background: #000;
}
.__h_video img {
width: 100%;
height: auto;
color: #000;
}
.__h_video .play {
height: 72px;
width: 72px;
left: 50%;
top: 50%;
margin-left: -36px;
margin-top: -36px;
position: absolute;
cursor: pointer;
}
&lt;/style>&lt;div class="s_video_simple __h_video">
&lt;a href="https://vimeo.com/4.8912912e&amp;#43;07" rel="noopener" target="_blank">
&lt;img src="https://i.vimeocdn.com/video/337401969-979f0cc9f55fdf305fb8984e90d92639ec9d7ecc4c9dfbc6536e28edb43784ce-d_640" srcset="https://i.vimeocdn.com/video/337401969-979f0cc9f55fdf305fb8984e90d92639ec9d7ecc4c9dfbc6536e28edb43784ce-d_640 1x, https://i.vimeocdn.com/video/337401969-979f0cc9f55fdf305fb8984e90d92639ec9d7ecc4c9dfbc6536e28edb43784ce-d_640 2x" alt="Sing Jan Swing - Kinetic Type">
&lt;div class="play">
&lt;svg version="1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 61 61">&lt;circle cx="30.5" cy="30.5" r="30.5" opacity=".8" fill="#000">&lt;/circle>&lt;path d="M25.3 19.2c-2.1-1.2-3.8-.2-3.8 2.2v18.1c0 2.4 1.7 3.4 3.8 2.2l16.6-9.1c2.1-1.2 2.1-3.2 0-4.4l-16.6-9z" fill="#fff">&lt;/path>&lt;/svg>
&lt;/div>
&lt;/a>
&lt;/div></description></item></channel></rss>